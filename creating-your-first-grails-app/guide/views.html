<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>6 Views</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/guide.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />            
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <div class="navTitle">
        
        Grails Framework Guide 
    </div>
    <div class="navLinks">
        <ul>
            <li>
                <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                    <a href="../guide/index.html" class="button">Table of contents</a>

                    <div id="nav-summary-childs" style="display:none;">
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>1</strong><span>Getting Started</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/creatingTheApp.html"><strong>2</strong><span>Creating your Grails App</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/runningTheApp.html"><strong>3</strong><span>Running the App</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/domainClasses.html"><strong>4</strong><span>Domain Classes</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/controllers.html"><strong>5</strong><span>Controllers</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/views.html"><strong>6</strong><span>Views</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/services.html"><strong>7</strong><span>Services</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/testing.html"><strong>8</strong><span>Testing your App</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/deployment.html"><strong>9</strong><span>Deploying your App</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/helpWithGrails.html"><strong>10</strong><span>Do you need help with Grails?</span></a>
                        </div>
                        
                    </div>
                </div>
            </li>
        </ul>
    </div>


</div>

<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/controllers.html">&lt;&lt; <strong>5</strong><span>Controllers</span></a></div>
                

                
                    <div class="toc-item next-right"><a href="../guide/services.html"><strong>7</strong><span>Services</span> >></a></div>
                


                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#viewsResolution"><strong>6.1</strong><span>Views Resolution</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#gsp"><strong>6.2</strong><span>GSP</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#gspIteration"><strong>6.3</strong><span>GSP Tags Iteration</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#gspLinks"><strong>6.4</strong><span>GSP Tags Links</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#assetPipeline"><strong>6.5</strong><span>Asset Pipeline</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#addJavascriptAsset"><strong>6.6</strong><span>Add Javascript Asset</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="views">6 Views</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/creating-your-first-grails-app/edit/master/src/main/docs/guide/views.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Views are the third component of the MVC pattern. Views are responsible for presenting data to the user (which might be a browser page, an API endpoint, or some other sort of consumer). In many apps, views are HTML pages designed to be loaded in a browser. However, it is perfectly reasonable for a "view" to be an XML or JSON document, depending on the type of client requesting the view.</p>
</div>
<div class="paragraph">
<p>Grails' primary view technology is <a href="http://docs.grails.org/latest/guide/theWebLayer.html#gsp">Groovy Server Pages</a>. It follows many of the conventions of JSP and ASP, but naturally it is based upon the Groovy language. GSP pages are essentially HTML documents, but they support a number of special tags (typically prefix with <code>g:</code>) to allow programmatic control over your views. You can even write arbitrary Groovy code in your GSP pages, but this is <strong>strongly</strong> discouraged - ideally, the GSP page should only contain view-related logic and content; any sort of data manipulation or processing should happen in the controller (or in a service) prior to the view being rendered.</p>
</div>
<div class="paragraph">
<p>You&#8217;ve already worked with GSP views in this guide, but let&#8217;s quickly cover the basics.</p>
</div>
<div class="sect1">
<h2 id="_layouts">Layouts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GSP views in an application often need to share some general structure, and perhaps some shared assets like JavaScript files. Grails uses the <a href="http://wiki.sitemesh.org/wiki/display/sitemesh/Home">SiteMesh</a> templating technology to support the idea of "layouts", which are essentially GSP template files that your GSP page can "inherit".</p>
</div>
<div class="paragraph">
<p>By convention, layouts are located under <code>grails-app/views/layouts</code>. Grails includes a <code>main.gsp</code> template in the default project, and that&#8217;s the one that Grails scaffolding uses, as well as the default home page. We&#8217;re using it as well. To use a GSP layout, simply specify the name of the layout using a <code>&lt;meta name="layout"&gt;</code> tag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;html&gt;</span>
<span class="tag">&lt;html&gt;</span>
<span class="tag">&lt;head&gt;</span>
    <span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">layout</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">main</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
<span class="tag">&lt;/head&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can create your own layouts as well. Let&#8217;s create a new layout for our home page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ vim grails-app/views/layouts/public.gsp</code></pre>
</div>
</div>
<div class="paragraph">
<p>Edit your new layout. We&#8217;ll be copying the existing <code>main.gsp</code> as a start, but we&#8217;ll add a custom logo image and remove some layout code we don&#8217;t need on our pages.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/layouts/public.gsp</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="doctype">&lt;!doctype html&gt;</span>
<span class="tag">&lt;html</span> <span class="attribute-name">lang</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">no-js</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="tag">&lt;head&gt;</span>
    <span class="tag">&lt;meta</span> <span class="attribute-name">http-equiv</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Content-Type</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/html; charset=UTF-8</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;meta</span> <span class="attribute-name">http-equiv</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">X-UA-Compatible</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">IE=edge</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;title&gt;</span>
        <span class="tag">&lt;g:layoutTitle</span> <span class="attribute-name">default</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Auto Catalog</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/title&gt;</span>
    <span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">viewport</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">width=device-width, initial-scale=1</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;asset:stylesheet</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">application.css</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>

    <span class="tag">&lt;g:layoutHead</span><span class="tag">/&gt;</span>
<span class="tag">&lt;/head&gt;</span>
<span class="tag">&lt;body&gt;</span>

<span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">navbar navbar-default navbar-static-top</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">navigation</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">container</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">navbar-header</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;a</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">navbar-brand</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">href</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">/#</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;i</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">fa grails-icon</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                    <span class="tag">&lt;asset:image</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">logo.png</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
                <span class="tag">&lt;/i&gt;</span> Auto Catalog
            <span class="tag">&lt;/a&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
        <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">navbar-collapse collapse</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">aria-expanded</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">style</span>=<span class="string"><span class="delimiter">&quot;</span><span class="key">height</span>: <span class="float">0.8px</span>;<span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;ul</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">nav navbar-nav navbar-right</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                <span class="tag">&lt;g:pageProperty</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">page.nav</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
            <span class="tag">&lt;/ul&gt;</span>
        <span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="tag">&lt;g:layoutBody</span><span class="tag">/&gt;</span>

<span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">footer</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">contentinfo</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span><span class="tag">&lt;/div&gt;</span>

<span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The key points of this layout are the <code>&lt;g:layoutBody&gt;</code> and <code>&lt;g:layoutHead&gt;</code> tags. These tags are substituted by SiteMesh for the <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code> sections of any GSP page that uses the layout.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Feel free to provide your own <code>logo.png</code> image, or use the one from the <code>completed</code> project (or <a href="https://github.com/grails-guides/creating-your-first-grails-app/blob/master/complete/grails-app/assets/images/logo.png">download at this link</a>). Place the image in the <code>grails-app/assets/images/</code> directory, and the layout should render it instead of the Grails logo.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Don&#8217;t worry about the <code>&lt;asset&gt;</code> tags in the new layout just yet - we&#8217;ll be covering those shortly.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now edit the <code>home/index.gsp</code> view to use the new <code>public</code> layout.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/home/index.gsp</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;html&gt;</span>
<span class="tag">&lt;head&gt;</span>
    <span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">layout</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">public</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="tag">&lt;title&gt;</span>Home Page<span class="tag">&lt;/title&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Change "main" to "public"</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Refresh the page (or restart the app) and you should see the new layout in action. Feel free to modify the <code>public.gsp</code> layout further if you wish.</p>
</div>
</div>
</div>


<h2 id="viewsResolution">6.1 Views Resolution</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/creating-your-first-grails-app/edit/master/src/main/docs/guide/viewsResolution.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>How does Grails choose which view to render? By convention, Grails looks for views
under the <code>grails-app/views</code> directory. It will attempt to resolve views to controller
actions by matching the controller name with a directory under the <code>views</code> directory.
E.g., <code>HomeController</code> will resolve to <code>grails-app/views/home</code>. Grails will then map
actions to GSP pages with the same name. E.g, <code>index</code> will resolve to <code>index.gsp</code>.</p>
</div>
<div class="paragraph">
<p>You can also render a particular view from your controller action (overriding Grails' conventions) using the <code>render</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">SomeController</span> {
    <span class="keyword">def</span> <span class="function">someAction</span>() {
        render <span class="key">view</span>: <span class="string"><span class="delimiter">'</span><span class="content">anotherView</span><span class="delimiter">'</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will attempt to resolve to a <code>anotherView.gsp</code> page under <code>grails-app/views/some/</code>. If you would like to resolve a view that is not under the controller&#8217;s own view directory, use a leading <code>/</code> to specifiy an absolute path from <code>grails-app/views</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">SomeController</span> {
    <span class="keyword">def</span> <span class="function">someAction</span>() {
        render <span class="key">view</span>: <span class="string"><span class="delimiter">'</span><span class="content">/another/view</span><span class="delimiter">'</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will resolve to <code>view.gsp</code> under <code>grails-app/views/another/</code>.</p>
</div>


<h2 id="gsp">6.2 GSP</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/creating-your-first-grails-app/edit/master/src/main/docs/guide/gsp.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>GSP pages have access to a rich set of tags. We&#8217;ve seen a few in action already. You can get much more detail on the available GSP tags (including how to define your own custom tags) from the Grails documentation.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s soup up our <code>index.gsp</code> page a bit with some GSP tags.</p>
</div>
<div class="paragraph">
<p>Edit <code>grails-app/views/home/index.gsp</code></p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/home/index.gsp</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="error">&lt;</span>%@ page import=&quot;com.example.Vehicle&quot; %<span class="error">&gt;</span>
<span class="tag">&lt;html&gt;</span>
<span class="tag">&lt;head&gt;</span>
    <span class="tag">&lt;meta</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">layout</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">content</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">public</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;title&gt;</span>Home Page<span class="tag">&lt;/title&gt;</span>
<span class="tag">&lt;/head&gt;</span>
<span class="tag">&lt;body&gt;</span>

<span class="tag">&lt;div</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">main</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;section</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">row colset-2-its</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;h1&gt;</span>Welcome ${name}!<span class="tag">&lt;/h1&gt;</span>
        <span class="tag">&lt;g:if</span> <span class="attribute-name">test</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${flash.message}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
            <span class="tag">&lt;div</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">message</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">role</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">status</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>${flash.message}<span class="tag">&lt;/div&gt;</span>
        <span class="tag">&lt;/g:if&gt;</span>

        <span class="tag">&lt;p&gt;</span>There are ${vehicleTotal} vehicles in the database.<span class="tag">&lt;/p&gt;</span>

        <span class="tag">&lt;ul&gt;</span>
        <span class="tag">&lt;g:each</span> <span class="attribute-name">in</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${Vehicle.list()}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">var</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">vehicle</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;li&gt;</span>
                <span class="tag">&lt;g:link</span> <span class="attribute-name">controller</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">vehicle</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">show</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${vehicle.id}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
                    ${vehicle.name} - ${vehicle.year} ${vehicle.make.name} ${vehicle.model.name}
                <span class="tag">&lt;/g:link&gt;</span>
            <span class="tag">&lt;/li&gt;</span>
        <span class="tag">&lt;/g:each&gt;</span>
        <span class="tag">&lt;/ul&gt;</span>

        <span class="tag">&lt;g:form</span> <span class="attribute-name">action</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">updateName</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">style</span>=<span class="string"><span class="delimiter">&quot;</span><span class="key">margin</span>: <span class="float">0</span> <span class="value">auto</span>; <span class="key">width</span>:<span class="float">320px</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>
            <span class="tag">&lt;g:textField</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
            <span class="tag">&lt;g:submitButton</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Update name</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
        <span class="tag">&lt;/g:form&gt;</span>

    <span class="tag">&lt;/section&gt;</span>
<span class="tag">&lt;/div&gt;</span>

<span class="tag">&lt;/body&gt;</span>
<span class="tag">&lt;/html&gt;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Rather than rendering <code>flash.message</code> regardless of whether it exists, we use the <code>&lt;g:if&gt;</code> tag to test if there is a message, and then render the message (using some custom styling).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Replace the plain HTML <code>&lt;form&gt;</code> tags with their GSP equivalents.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s take a closer look at <code>&lt;g:if&gt;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">    <span class="tag">&lt;g:if</span> <span class="attribute-name">test</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${isThisTrue}}</span></span><span class="error">&gt;</span>
        Some content
    <span class="tag">&lt;/g:if&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>GSP tags can optionally accept attributes, such as <code>test</code> in this example. Different tags require different types of attributes, but typically you will end up passing a Groovy Expression like in this example. Any Groovy code between the <code>${</code> and <code>}</code> will be evaluated (on the server) and the result will be substituted on the rendered page.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can use Groovy Expressions anywhere on the GSP page, not just in tags. See the <code>${flash.message}</code> in our <code>index.gsp</code> page.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Other tag attributes might accept plain strings or numbers. E.g, <code>&lt;g:form action="updateName"&gt;</code></p>
</div>
<div class="paragraph">
<p>A GSP tag can also optionally include a body. In the case of <code>&lt;g:if&gt;</code>, the body will only be rendered if the <code>test</code> expression evaluates to true (following the <a href="http://docs.groovy-lang.org/latest/html/documentation/#Groovy-Truth">Groovy Truth</a> convention). Other GSP tags (like <code>&lt;g:form&gt;</code>) simply include the body within the resulting HTML output.</p>
</div>


<h2 id="gspIteration">6.3 GSP Tags Iteration</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/creating-your-first-grails-app/edit/master/src/main/docs/guide/gspIteration.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="sect1">
<h2 id="_iteration">Iteration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are GSP tags for iteration as well - a very useful one is <code>&lt;g:each&gt;</code>. Let&#8217;s try it out:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/home/index.gsp</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="error">&lt;</span>%@ page import=&quot;com.example.Vehicle&quot; %<span class="error">&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="tag">&lt;html&gt;</span>
<span class="comment">&lt;!-- ... --&gt;</span>
        <span class="tag">&lt;p&gt;</span>There are ${vehicleTotal} vehicles in the database.<span class="tag">&lt;/p&gt;</span>

        <span class="tag">&lt;ul&gt;</span>
            <span class="tag">&lt;g:each</span> <span class="attribute-name">in</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${Vehicle.list()}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">var</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">vehicle</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>  <i class="conum" data-value="2"></i><b>(2)</b>
                <span class="tag">&lt;li&gt;</span>
                    <span class="error">&lt;</span>! -- ... --<span class="error">&gt;</span>
                <span class="tag">&lt;/li&gt;</span>
            <span class="tag">&lt;/g:each&gt;</span>
        <span class="tag">&lt;/ul&gt;</span>

<span class="comment">&lt;!-- ... --&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The  <code>&lt;g:each&gt;</code> tag iterates through a collection of objects, provided by the <code>in</code> attribute. <code>var</code> sets the name for each object in the collection. Grails will iterate through the collection (in this case, the list of <code>Vehicles</code> returned by <code>Vehicle.list()</code>) and render the body of the <code>&lt;g:each&gt;</code> tag for every item.</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is a JSP-style expression that allows executing arbitrary Groovy code (without rendering a result). We&#8217;re using it here to import our <code>Vehicle</code> class. This is <strong>highly</strong> discouraged - we&#8217;ll explain why shortly.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Bad practice, accessing the Domain model directly from the view</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This sort of code is a <strong>bad idea</strong> - we are accessing our domain model (<code>Vehicle</code>) directly from our view, which tightly couples two separate parts of the application, and in general leads to very messy code. The better way to accomplish this feature is to get the <code>Vehicle</code> list in the <code>HomeController.index</code> action, and add the list to our model object (the one being passed to <code>respond</code>). Then we could refer to the list in the same way that we access <code>name</code> and <code>vehicleTotal</code>. Go ahead and change the controller and view to use this better approach - the completed project has this change already made if you need help.
</td>
</tr>
</table>
</div>
</div>
</div>


<h2 id="gspLinks">6.4 GSP Tags Links</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/creating-your-first-grails-app/edit/master/src/main/docs/guide/gspLinks.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Let&#8217;s take a look at one more common GPS tag: <code>&lt;g:link&gt;</code></p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/home/index.gsp</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">        ${vehicle.name} - ${vehicle.year} ${vehicle.make.name} ${vehicle.model.name}
    <span class="tag">&lt;/g:link&gt;</span>
<span class="tag">&lt;/li&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>&lt;g:link&gt;</code> renders an HTML <code>&lt;a&gt;</code> tag, but it has the advantage in that it allows you to specify your link target following Grails conventions, such as this example (using the <code>controller</code>, <code>action</code> and <code>id</code> attributes). <code>&lt;g:link&gt;</code> is also smart enough to follow our URL mappings, so if we change the URL mapping for <code>vehicle/show</code>, the <code>&lt;g:link&gt;</code> tag will still render the correct URL. There&#8217;s many more attributes supported by <code>&lt;g:link&gt;</code> - see the <a href="http://docs.grails.org/latest/ref/Tags/link.html">Grails documentation</a> for more.</p>
</div>


<h2 id="assetPipeline">6.5 Asset Pipeline</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/creating-your-first-grails-app/edit/master/src/main/docs/guide/assetPipeline.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>You may have noticed a few <code>&lt;asset&gt;</code> tags in our GSP pages. These tags are provided by the Asset Pipeline plugin, which is Grails' default tool for managing static assets (images, CSS, JavaScript files, etc). The Asset Pipeline plugin provides a set of custom GSP tags, but unlike the tags we&#8217;ve been exploring, it uses the <code>asset</code> prefix (or namespace).</p>
</div>
<div class="paragraph">
<p>The most common <code>&lt;asset&gt;</code> tags are listed below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;asset:javascript</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myscript.js</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="tag">&lt;asset:image</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">myimage.png</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span> <i class="conum" data-value="2"></i><b>(2)</b>

<span class="tag">&lt;asset:stylesheet</span> <span class="attribute-name">src</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">mystyles.css</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span> <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This tag loads JavaScript files from <code>grails-app/assets/javascripts</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This tag loads images from <code>grails-app/assets/images</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This tag loads CSS files from <code>grails-app/assets/stylesheets</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As you can see, the Asset Pipeline follows a convention over configuration approach, following the precedent of Grails. However, Asset Pipeline is a very powerful framework, and includes a rich plugin ecosystem - you can find plugins to render LESS and SASS files, CoffeeScript, Ember, Angular, JSX (React), and more.</p>
</div>
<div class="paragraph">
<p>Asset Pipeline also supports minification and compression of your assets, and much more.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Visit <a href="http://www.asset-pipeline.com/">asset-pipeline.com</a> for much more information on using the Asset Pipeline, including a directory of <a href="http://www.asset-pipeline.com/plugins">available plugins</a>.
</td>
</tr>
</table>
</div>


<h2 id="addJavascriptAsset">6.6 Add Javascript Asset</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/creating-your-first-grails-app/edit/master/src/main/docs/guide/addJavascriptAsset.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Let&#8217;s use the Asset Pipeline plugin to add jQuery to our page. Grails includes jQuery by default.
The version of Grails used in this guide included jQuery 2.2.0 by default:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>_grails-app/assets/javascripts/jquery-2.2.0.min.js_</pre>
</div>
</div>
<div class="paragraph">
<p>but let&#8217;s instead download the latest version. Download jQuery from <a href="https://code.jquery.com/jquery-3.1.1.js" class="bare">https://code.jquery.com/jquery-3.1.1.js</a></p>
</div>
<div class="paragraph">
<p>Save <code>jquery-3.1.1.js</code> to <code>grails-app/assets/javascripts</code>.</p>
</div>
<div class="paragraph">
<p>Edit <code>grails-app/views/home/index.gsp</code>, add the following snippet in the <em>head</em> block.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/home/index.gsp</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">    <span class="tag">&lt;script</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">text/javascript</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="inline">      <span class="predefined">$</span>( document ).ready(<span class="keyword">function</span>() {
        console.log( <span class="string"><span class="delimiter">&quot;</span><span class="content">jQuery 3.1.1 loaded!</span><span class="delimiter">&quot;</span></span> );
      });</span>
    <span class="tag">&lt;/script&gt;</span>
<span class="tag">&lt;/head&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Refresh the page, and open your browser&#8217;s developer console. You should see the string <code>jQuery 3.1.1 loaded!</code> in the console logs.</p>
</div>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/controllers.html">&lt;&lt; <strong>5</strong><span>Controllers</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/services.html"><strong>7</strong><span>Services</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title" style="text-align: right"><a href="https://travis-ci.org/grails-guides/creating-your-first-grails-app"><img src="https://travis-ci.org/grails-guides/creating-your-first-grails-app.svg?branch=master" /></a></div>            
                 <div class="local-title">
                    <a href="https://github.com/grails-guides/creating-your-first-grails-app">
                    <svg height="35" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="35" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a> &nbsp;&nbsp;Get the Code
                </div>
                <div class="menu">
                    <div class="input-group">                        
                        <button href="#" onclick="document.getElementById('github-url').value='git@github.com:grails-guides/creating-your-first-grails-app.git'" class="codeButton">SSH</button>
                        <button onclick="document.getElementById('github-url').value='https://github.com/grails-guides/creating-your-first-grails-app.git'" class="codeButton">HTTPS</button>
                        <button onclick="document.getElementById('github-url').value='https://github.com/grails-guides/creating-your-first-grails-app'" class="codeButton">Subversion</button>
                    </div>
       
                    <div class="input-group">                    
                        <!-- Target -->
                        <input id="github-url" value="git@github.com:grails-guides/creating-your-first-grails-app.git" type="text" />

                        <!-- Trigger -->
                        <button class="clipbtn" type="button" data-clipboard-target="#github-url">

                            <img width="13" src="../img/clippy.svg" alt="Copy to clipboard">
                        </button>       

                    </div>
                    <div class="input-group">
                      <a href="https://github.com/grails-guides/creating-your-first-grails-app/archive/master.zip" class="downloadButton">Download ZIP</a>
                    </div>
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically. All guides are released with an ASLv2 license for the code, and Creative Commons license for the writing.
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
