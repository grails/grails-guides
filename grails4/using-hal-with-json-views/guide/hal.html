<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>5 Make our API Discoverable via HAL</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/guide.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />            
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <div class="navTitle">
        
        Grails Framework Guide 
    </div>
    <div class="navLinks">
        <ul>
            <li>
                <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                    <a href="../guide/index.html" class="button">Table of contents</a>

                    <div id="nav-summary-childs" style="display:none;">
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/training.html"><strong>1</strong><span>Grails Training</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>2</strong><span>Getting Started</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/runningTheApp.html"><strong>3</strong><span>Running the Application</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/buildingApi.html"><strong>4</strong><span>Building our API</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/hal.html"><strong>5</strong><span>Make our API Discoverable via HAL</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/explorableAPI.html"><strong>6</strong><span>Explore the API</span></a>
                        </div>
                        
                        <div class="toc-item" style="margin-left:0"><a href="../guide/helpWithGrails.html"><strong>7</strong><span>Do you need help with Grails?</span></a>
                        </div>
                        
                    </div>
                </div>
            </li>
        </ul>
    </div>


</div>

<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../guide/buildingApi.html">&lt;&lt; <strong>4</strong><span>Building our API</span></a></div>
                

                
                    <div class="toc-item next-right"><a href="../guide/explorableAPI.html"><strong>6</strong><span>Explore the API</span> >></a></div>
                


                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#links"><strong>5.1</strong><span>Linked Resources</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#templates"><strong>5.2</strong><span>Render Collections with Templates</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#embedded"><strong>5.3</strong><span>Embed Associated Objects</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#pagination"><strong>5.4</strong><span>Paginate Results</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#mimeTypes"><strong>5.5</strong><span>Custom MIME Types</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="hal">5 Make our API Discoverable via HAL</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/using-hal-with-json-views/edit/master/src/main/docs/guide/hal.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>We&#8217;ve customized our API somewhat now, but we have a few issues:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>By customizing our <code>id</code> property for orders, it&#8217;s no longer clear to clients how to <strong>reference a particulate record</strong> (since our API still relies on the database id)</p>
</li>
<li>
<p>Our three exposed domain classes have a number of <strong>associations where only ids are exposed</strong> - this means that clients need to make a new request to get the details on an associated object (e.g, a client consuming an order would need to make separate requests to obtain the fields for its products)</p>
</li>
<li>
<p>Our API is rather opaque - without documentation, users of our API would have to guess the endpoints to arrive at associated records. Even with documentation, clients would likely need to use custom code to navigate our API, <strong>without a consistent standard</strong> to follow.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The conventions of the HAL+JSON standard can help us solve these issues, and JSON views provide first-class support for HAL - let&#8217;s see how we can use it.</p>
</div>


<h2 id="links">5.1 Linked Resources</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/using-hal-with-json-views/edit/master/src/main/docs/guide/links.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Links are the key in the HAL standard. HAL resources include a special field called <code>_links</code>, which contains an array of JSON objects that define links to related resources. A HAL link contains (at least) two pieces of information - a relationship, and an <code>href</code> containing the URL to access the related resource. Other metadata can be included as well.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s a sample of a JSON body with a <code>_links</code> field, and two links:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key">title</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Groovy Recipes</span><span class="delimiter">&quot;</span></span>,
    <span class="key">author</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Scott Davis</span><span class="delimiter">&quot;</span></span>,
    <span class="key">pages</span>: <span class="integer">100</span>,

    <span class="key"><span class="delimiter">&quot;</span><span class="content">_links</span><span class="delimiter">&quot;</span></span>: {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8080/book/show/1</span><span class="delimiter">&quot;</span></span>,    <i class="conum" data-value="1"></i><b>(1)</b>
        },
        <span class="key"><span class="delimiter">&quot;</span><span class="content">author</span><span class="delimiter">&quot;</span></span>: {
            <span class="key"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8080/author/show/1</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="2"></i><b>(2)</b>
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>self</code> is a special link that every HAL resource should include - it specifies the URL "back" to the current resource.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Here we&#8217;re defining a custom link called <code>author</code> that specifies the URL for the <code>author</code> field</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When a HAL resource is accessed by a client, it is possible to "browse" the relationships expressed in the <code>_links</code> field without the client knowing the exact makeup of the API endpoint.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="comment">//examples are using the fetch API: https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API</span>

<span class="comment">//retrieve a book instance from the API</span>
fetch(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8080/api/book/1</span><span class="delimiter">&quot;</span></span>).then(function(response) {
    <span class="keyword">return</span> response.json();
}).then(function(data) {
    <span class="local-variable">this</span>.book = data;
});

<span class="comment">//retrieve book's author using links</span>
var author;
fetch(book._links.author.href).then(function(response) {
    <span class="keyword">return</span> response.json();
}).then(function(data) {
    author = data;
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>JSON views implement a Groovy trait <a href="http://views.grails.org/latest/api/grails/plugin/json/view/api/HalView.html"><code>HalView</code></a>, which exposes a <code>hal</code> helper with several methods for outputting HAL-compliant JSON. One of those is the <code>links</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">model {
    Order order
}
json {
    hal.links(order)
    <span class="comment">//...</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Calling <code>hal.links()</code> on our domain resource produces the following JSON output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key">_links</span>: {
        <span class="key">self</span>: {
            <span class="key">href</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8080/api/orders/1</span><span class="delimiter">&quot;</span></span>,
            <span class="key">hreflang</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en_US</span><span class="delimiter">&quot;</span></span>,
            <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s edit our <code>order/show.gson</code> view to include a <code>self</code> link as well as a link to the associated customer:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/order/show.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Order</span>

<span class="keyword">import</span> <span class="include">java.text.SimpleDateFormat</span>

<span class="predefined-type">SimpleDateFormat</span> simpleDateFormat = <span class="keyword">new</span> <span class="predefined-type">SimpleDateFormat</span>(<span class="string"><span class="delimiter">'</span><span class="content">M-dd-yyy</span><span class="delimiter">'</span></span>)

model {
    Order order
}
json {
    hal.links(<span class="key">self</span>: order, <span class="key">customer</span>: order.customer) <i class="conum" data-value="1"></i><b>(1)</b>

    id order.orderId
    shippingCost order.shippingCost
    date simpleDateFormat.format(order.orderPlaced)

    shippingAddress {
        street order.shippingAddress.street
        street2 order.shippingAddress.street2
        city order.shippingAddress.city
        state order.shippingAddress.state
        zip order.shippingAddress.zip
    }

    products order.products.collect { [<span class="key">id</span>: <span class="local-variable">it</span>.id] }

    customer {
        id order.customer.id
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>links</code> method can take a domain resource instance, or a map of link names and objects to link.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Make a request to <code><a href="http://localhost:8080/api/orders/1" class="bare">http://localhost:8080/api/orders/1</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">{
    <span class="key">_links</span>: {
        <span class="key">self</span>: {
            <span class="key">href</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/orders?id=1</span><span class="delimiter">&quot;</span></span>,
            <span class="key">hreflang</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
            <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        },
        <span class="key">customer</span>: {
            <span class="key">href</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/customers?id=1</span><span class="delimiter">&quot;</span></span>,
            <span class="key">hreflang</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
            <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        }
    },
    <span class="key">id</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">0A12321</span><span class="delimiter">&quot;</span></span>,
    <span class="key">shippingCost</span>: <span class="float">13.54</span>,
    <span class="key">date</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2-08-2017</span><span class="delimiter">&quot;</span></span>,
    <span class="key">shippingAddress</span>: {
        <span class="key">street</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">321 Arrow Ln</span><span class="delimiter">&quot;</span></span>,
        <span class="key">street2</span>: <span class="predefined-constant">null</span>,
        <span class="key">city</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Chicago</span><span class="delimiter">&quot;</span></span>,
        <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">IL</span><span class="delimiter">&quot;</span></span>,
        <span class="key">zip</span>: <span class="integer">646465</span>
    },
    <span class="key">products</span>: [
            {
                <span class="key">id</span>: <span class="integer">11</span>
            },
            {
                <span class="key">id</span>: <span class="integer">1</span>
            },
            {
                <span class="key">id</span>: <span class="integer">6</span>
            }
    ],
    <span class="key">customer</span>: {
        <span class="key">id</span>: <span class="integer">1</span>
    }
}
    <span class="comment">//...</span>
}</code></pre>
</div>
</div>


<h2 id="templates">5.2 Render Collections with Templates</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/using-hal-with-json-views/edit/master/src/main/docs/guide/templates.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p><code>Order</code> includes a one-many relationship with <code>Product</code>, and right now our API returns a simple list of ids to represent products in an order. Ideally we&#8217;d like to include links to these products as well, so that clients of our API can retrieve the details of each product by following the links we provide. We can use JSON views' template functionality.</p>
</div>
<div class="paragraph">
<p>In the <code>grails-app/views/order</code> directory, create a new JSON template with the name <code>_product.gson</code>:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/order/_product.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Product</span>

model {
  Product product
}
json {
  hal.links(product)

  id product.id
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now in our <code>order/show.gson</code> view, we can pass <code>order.products</code> to the <code>tmpl</code> helper, using our new <code>_product</code> template:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/order/show_v3.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Order</span>

<span class="keyword">import</span> <span class="include">java.text.SimpleDateFormat</span>

<span class="predefined-type">SimpleDateFormat</span> simpleDateFormat = <span class="keyword">new</span> <span class="predefined-type">SimpleDateFormat</span>(<span class="string"><span class="delimiter">'</span><span class="content">M-dd-yyy</span><span class="delimiter">'</span></span>)

model {
    Order order
}
json {
    hal.links(<span class="key">self</span>: order, <span class="key">customer</span>: order.customer)

    id order.orderId
    shippingCost order.shippingCost
    date simpleDateFormat.format(order.orderPlaced)

    shippingAddress {
        street order.shippingAddress.street
        street2 order.shippingAddress.street2
        city order.shippingAddress.city
        state order.shippingAddress.state
        zip order.shippingAddress.zip
    }

    products tmpl.product(order.products) <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>tmpl</code> helper will resolve a method name to a template in the current view directory - e.g, <code>tmpl.product</code> will resolve to <code>/order/_product.gson</code>. If you want to access a template from outside the current directory, you can use an absolute path (relative to the <code>views</code> directory) as a string: <code>tmpl."/customer/order"()</code> will resolve to <code>grails-app/views/customer/_order.gson</code>.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For more information on using templates in JSON views, see the <a href="http://views.grails.org/latest/#_templates">Grails Views documentation</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Make a request to <code><a href="http://localhost:8080/api/orders/1" class="bare">http://localhost:8080/api/orders/1</a></code>, and you should see <code>_links</code> for each product in the <code>products</code> array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">{
    <span class="key">_links</span>: {
        <span class="key">self</span>: {
            <span class="key">href</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/orders?id=1</span><span class="delimiter">&quot;</span></span>,
            <span class="key">hreflang</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
            <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        },
        <span class="key">customer</span>: {
            <span class="key">href</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/customers?id=1</span><span class="delimiter">&quot;</span></span>,
            <span class="key">hreflang</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
            <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        }
    },
    <span class="key">id</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">0A12321</span><span class="delimiter">&quot;</span></span>,
    <span class="key">shippingCost</span>: <span class="float">13.54</span>,
    <span class="key">date</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2-08-2017</span><span class="delimiter">&quot;</span></span>,
    <span class="key">shippingAddress</span>: {
        <span class="key">street</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">321 Arrow Ln</span><span class="delimiter">&quot;</span></span>,
        <span class="key">street2</span>: <span class="predefined-constant">null</span>,
        <span class="key">city</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Chicago</span><span class="delimiter">&quot;</span></span>,
        <span class="key">state</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">IL</span><span class="delimiter">&quot;</span></span>,
        <span class="key">zip</span>: <span class="integer">646465</span>
    },
    <span class="key">products</span>: [
        {
            <span class="key">_links</span>: {
                <span class="key">self</span>: {
                    <span class="key">href</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/11</span><span class="delimiter">&quot;</span></span>,
                    <span class="key">hreflang</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
                    <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
                }
            },
            <span class="key">id</span>: <span class="integer">11</span>
        },
        {
            <span class="key">_links</span>: {
                <span class="key">self</span>: {
                    <span class="key">href</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/6</span><span class="delimiter">&quot;</span></span>,
                    <span class="key">hreflang</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
                    <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
                }
            },
            <span class="key">id</span>: <span class="integer">6</span>
        },
        {
            <span class="key">_links</span>: {
                <span class="key">self</span>: {
                    <span class="key">href</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/1</span><span class="delimiter">&quot;</span></span>,
                    <span class="key">hreflang</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
                    <span class="key">type</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
                }
            },
            <span class="key">id</span>: <span class="integer">1</span>
        }
    ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s use the same technique for the <code>Customer&#8217;s orders - create a new template at `grails-app/views/customer/_order.gson</code>:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/customer/_order.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Order</span>

model {
    Order order
}
json {
    hal.links(order)

    id order.id
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Edit the <code>customer/show.gson</code> view to use the new <code>_order</code> template:</p>
</div>
<div class="paragraph">
<p>Let&#8217;s use the same technique for the <code>Customer&#8217;s orders - create a new template at `grails-app/views/customer/_order.gson</code>:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/customer/show.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Customer</span>

model {
    Customer customer
}
json {
    id customer.id
    firstName customer.firstName
    lastName customer.lastName
    fullName <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>customer.firstName<span class="inline-delimiter">}</span></span><span class="content"> </span><span class="inline"><span class="inline-delimiter">${</span>customer.lastName<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>

    address {
        street customer.address.street
        street2 customer.address.street2
        city customer.address.city
        state customer.address.state
        zip customer.address.zip
    }

    orders tmpl.order(customer.orders)
}</code></pre>
</div>
</div>


<h2 id="embedded">5.3 Embed Associated Objects</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/using-hal-with-json-views/edit/master/src/main/docs/guide/embedded.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Let&#8217;s take a look at our <code>Product</code> domain resource. <code>Product</code> has a <code>belongsTo</code> relationship with <code>Category</code>, which is expressed in our default JSON output in a simple object with the category id:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key">id</span>: <span class="integer">1</span>,
    <span class="key">category</span>: {
        <span class="key">id</span>: <span class="integer">1</span>
    },
    <span class="key">inventoryId</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">CLOTH001</span><span class="delimiter">&quot;</span></span>,
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Cargo Pants</span><span class="delimiter">&quot;</span></span>,
    <span class="key">price</span>: <span class="integer">15</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Again we&#8217;d like to make it easier for consumers of the API to obtain the category for the product. We have several options:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We could simply <strong>include the <code>category</code> details in our JSON view</strong>: This approach obscures the boundary between the <code>Product</code> and <code>Category</code> resources in our API - it gives the (incorrect) impression to the client that <code>category.name</code> is a property of <code>Product</code>, rather than a API resource in its own right.</p>
</li>
<li>
<p>We could provide a <strong>link to the category</strong>: This approach would require clients to make a new request to get the category details, and it&#8217;s likely that most clients will want both the product and the category details in the same request.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You may recall that in the case of an order&#8217;s <code>shippingAddress</code>, we used the first of these two approaches (including the associated object&#8217;s details in the JSON view) - this is because <code>Address</code> is not exposed in our API as a resource, so an <code>Address</code> is effectively part of either an <code>Order</code> (<code>shippingAddress</code>) or a <code>Customer</code> (<code>address</code>) as far as our API is concerned.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>HAL specifies an <code>_embedded</code> property to represent cross-resource relationships in a nested format. With an embedded approach, we could include the <code>Category</code> in the same HAL+JSON response, but the category would be in a separate element to make it clear that these are separate resources.</p>
</div>
<div class="paragraph">
<p>JSON views provide an <code>embedded</code> method (via the <code>hal</code> helper) that will generate an <code>_embedded</code> element in our JSON view. It will include the default JSON output for the embedded objects as well as a <code>_self</code> link for each object.  Let&#8217;s use this to embed the category in our product output.</p>
</div>
<div class="paragraph">
<p>Create a new directory under <code>grails-app/views</code>, called <code>product</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ mkdir grails-app/views/product/</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a new JSON view under this directory, called <code>show.gson</code>:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/product/show.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Product</span>

model {
    Product product
}
json {
    hal.links(product)
    hal.embedded(<span class="key">category</span>: product.category) <i class="conum" data-value="1"></i><b>(1)</b>

    id product.inventoryId
    name product.name
    price product.price
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We&#8217;re passing <code>embedded</code> method a map of element names (in this case <code>category</code>) to objects to embed (<code>product.category</code>)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now make a request to <code><a href="http://localhost:8080/api/products/1" class="bare">http://localhost:8080/api/products/1</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">{
  <span class="string"><span class="delimiter">&quot;</span><span class="content">_links</span><span class="delimiter">&quot;</span></span>: {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>: {
      <span class="string"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/1</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">hreflang</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
    }
  },
  <span class="string"><span class="delimiter">&quot;</span><span class="content">_embedded</span><span class="delimiter">&quot;</span></span>: {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">category</span><span class="delimiter">&quot;</span></span>: {
      <span class="string"><span class="delimiter">&quot;</span><span class="content">_links</span><span class="delimiter">&quot;</span></span>: {
        <span class="string"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>: {
          <span class="string"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/categories/1</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">hreflang</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        }
      },
      <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Clothing</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">version</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>
    }
  },
  <span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">CLOTH001</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Cargo Pants</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">price</span><span class="delimiter">&quot;</span></span>: <span class="float">15.00</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In previous code snippet, the <code>category</code> object includes the default JSON renderer output for our <code>Category</code> resource, as well as a <code>_self</code> link so clients can request the category directly if needed.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s use the <code>embedded method on the `order/show.gson</code> view, and embed the <code>order.customer</code> resource:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/order/show.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Order</span>

<span class="keyword">import</span> <span class="include">java.text.SimpleDateFormat</span>

<span class="predefined-type">SimpleDateFormat</span> simpleDateFormat = <span class="keyword">new</span> <span class="predefined-type">SimpleDateFormat</span>(<span class="string"><span class="delimiter">'</span><span class="content">M-dd-yyy</span><span class="delimiter">'</span></span>)

model {
    Order order
}
json {
    hal.links(<span class="key">self</span>: order, <span class="key">customer</span>: order.customer)
    hal.embedded(<span class="key">customer</span>: order.customer) <i class="conum" data-value="1"></i><b>(1)</b>

    id order.orderId
    shippingCost order.shippingCost
    date simpleDateFormat.format(order.orderPlaced)

    shippingAddress {
        street order.shippingAddress.street
        street2 order.shippingAddress.street2
        city order.shippingAddress.city
        state order.shippingAddress.state
        zip order.shippingAddress.zip
    }

    products tmpl.product(order.products)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Make a request to <code><a href="http://localhost:8080/api/orders/1" class="bare">http://localhost:8080/api/orders/1</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">      <span class="string"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/orders?id=1</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">hreflang</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
    },
    <span class="string"><span class="delimiter">&quot;</span><span class="content">customer</span><span class="delimiter">&quot;</span></span>: {
      <span class="string"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/customers?id=1</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">hreflang</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
    }
  },
  <span class="string"><span class="delimiter">&quot;</span><span class="content">_embedded</span><span class="delimiter">&quot;</span></span>: {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">customer</span><span class="delimiter">&quot;</span></span>: {
      <span class="string"><span class="delimiter">&quot;</span><span class="content">_links</span><span class="delimiter">&quot;</span></span>: {
        <span class="string"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>: {
          <span class="string"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/customers/1</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">hreflang</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        }
      },
      <span class="string"><span class="delimiter">&quot;</span><span class="content">firstName</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Peter</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">lastName</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">River</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">version</span><span class="delimiter">&quot;</span></span>: <span class="integer">0</span>
    }
  },
  <span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">0A12321</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">shippingCost</span><span class="delimiter">&quot;</span></span>: <span class="float">13.54</span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2-08-2017</span><span class="delimiter">&quot;</span></span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">shippingAddress</span><span class="delimiter">&quot;</span></span>: {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">street</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">321 Arrow Ln</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">street2</span><span class="delimiter">&quot;</span></span>: <span class="predefined-constant">null</span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">city</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Chicago</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">state</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">IL</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">zip</span><span class="delimiter">&quot;</span></span>: <span class="integer">646465</span>
  },
  <span class="string"><span class="delimiter">&quot;</span><span class="content">products</span><span class="delimiter">&quot;</span></span>: [
    {
      <span class="string"><span class="delimiter">&quot;</span><span class="content">_links</span><span class="delimiter">&quot;</span></span>: {
        <span class="string"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>: {
          <span class="string"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/6</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">hreflang</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        }
      },
      <span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="integer">6</span>
    },
    {
      <span class="string"><span class="delimiter">&quot;</span><span class="content">_links</span><span class="delimiter">&quot;</span></span>: {
        <span class="string"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>: {
          <span class="string"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/11</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">hreflang</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        }
      },
      <span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="integer">11</span>
    },
    {
      <span class="string"><span class="delimiter">&quot;</span><span class="content">_links</span><span class="delimiter">&quot;</span></span>: {
        <span class="string"><span class="delimiter">&quot;</span><span class="content">self</span><span class="delimiter">&quot;</span></span>: {
          <span class="string"><span class="delimiter">&quot;</span><span class="content">href</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/1</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">hreflang</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">en</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">type</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/hal+json</span><span class="delimiter">&quot;</span></span>
        }
      },
      <span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>: <span class="integer">1</span>
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now clients of our API can access the details of embedded resources, without making additional requests.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="comment">//examples are using the fetch API: https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API</span>

<span class="comment">//retrieve an order instance from the API</span>
fetch(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8080/api/orders/1</span><span class="delimiter">&quot;</span></span>).then(function(response) {
    <span class="keyword">return</span> response.json();
}).then(function(data) {
    <span class="local-variable">this</span>.order = data;
});

var customer = <span class="local-variable">this</span>.order._embedded.customer;

console.log(<span class="string"><span class="delimiter">&quot;</span><span class="content">Order ID: </span><span class="delimiter">&quot;</span></span> + <span class="local-variable">this</span>.order.id);
console.log(<span class="string"><span class="delimiter">&quot;</span><span class="content">Customer: </span><span class="delimiter">&quot;</span></span> + customer.firstName + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + customer.lastName);

<span class="comment">//retrieve a product instance from the API</span>
fetch(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:8080/api/products/1</span><span class="delimiter">&quot;</span></span>).then(function(response) {
    <span class="keyword">return</span> response.json();
}).then(function(data) {
    <span class="local-variable">this</span>.product = data;
});

console.log(<span class="string"><span class="delimiter">&quot;</span><span class="content">Product: </span><span class="delimiter">&quot;</span></span> + <span class="local-variable">this</span>.product.name);
console.log(<span class="string"><span class="delimiter">&quot;</span><span class="content">Category:</span><span class="delimiter">&quot;</span></span> + <span class="local-variable">this</span>.order._embedded.category.name);</code></pre>
</div>
</div>


<h2 id="pagination">5.4 Paginate Results</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/using-hal-with-json-views/edit/master/src/main/docs/guide/pagination.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Another convention specified by the HAL standard is pagination. When serving a list of resources, the <code>_links</code> element can provide <code>first</code>, <code>prev</code>, <code>next</code> and <code>last</code> links, which can be used to navigate the resource list.</p>
</div>
<div class="paragraph">
<p>The <code>hal</code> helper provides a <code>paginate</code> method that will generate these links and handle the pagination of resources. This method requires a bit more information in the <code>model</code> of our JSON view, in order to keep track of the current offset, max number of records per page, and the total number of resources. In order to do this, we&#8217;ll need to create a controller so that we can pass in the needed model parameters.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s use HAL pagination links on our <code>Product</code> resource.</p>
</div>
<div class="paragraph">
<p>Because we&#8217;ll be creating our own <code>ProductController</code> to supply the parameters needed for pagination, we&#8217;ll need to remove the <code>@Resource</code> annotation we&#8217;ve been using on our <code>Product</code> domain class. Edit <code>grails-app/domain/com/example/Product.groovy</code>:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/domain/com/example/Product.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> com.example

<span class="type">class</span> <span class="class">Product</span> {

    <span class="predefined-type">String</span> name
    <span class="predefined-type">String</span> inventoryId

    <span class="predefined-type">BigDecimal</span> price

    <span class="directive">static</span> belongsTo = [ category : Category ]
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You&#8217;ll often find when developing a RESTful API that the generated controllers and URL mappings from <code>@Resource</code> are a great way to get started, but at some point you&#8217;ll want more control over the API - generating the <code>RestfulController</code> yourself is a good solution at that point.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now, create a new <code>RestfulController</code> using the <code>create-restful-controller</code> command (supplied by the <code>rest-api</code> profile):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ./grailsw create-restful-controller com.example.ProductController</code></pre>
</div>
</div>
<div class="paragraph">
<p>Edit this new controller with the following content:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/controllers/com/example/ProductController.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> com.example

<span class="keyword">import</span> <span class="include">grails.rest.RestfulController</span>

<span class="type">class</span> <span class="class">ProductController</span> <span class="directive">extends</span> RestfulController&lt;Product&gt; {
    <span class="directive">static</span> responseFormats = [<span class="string"><span class="delimiter">'</span><span class="content">json</span><span class="delimiter">'</span></span>]

    ProductController() {
        <span class="local-variable">super</span>(Product)
    }

    <span class="annotation">@Override</span>
    <span class="keyword">def</span> <span class="function">index</span>(<span class="predefined-type">Integer</span> max) {
        params.max = <span class="predefined-type">Math</span>.min(max ?: <span class="integer">10</span>, <span class="integer">100</span>)

        <span class="keyword">return</span> [
                productList : listAllResources(params), <i class="conum" data-value="1"></i><b>(1)</b>
                <span class="key">productCount</span>: countResources(),     <i class="conum" data-value="2"></i><b>(2)</b>
                max         : params.max,        <i class="conum" data-value="3"></i><b>(3)</b>
                offset      : params.int(<span class="string"><span class="delimiter">&quot;</span><span class="content">offset</span><span class="delimiter">&quot;</span></span>) ?: <span class="integer">0</span>, <i class="conum" data-value="4"></i><b>(4)</b>
                sort        : params.sort,  <i class="conum" data-value="5"></i><b>(5)</b>
                order       : params.order  <i class="conum" data-value="6"></i><b>(6)</b>
        ]
    }

    <span class="annotation">@Override</span>
    <span class="type">boolean</span> getReadOnly() {
        <span class="keyword">return</span> <span class="predefined-constant">true</span>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>listAllResource()</code> is a method provided by <code>RestfulController</code> to return a list of all domain resources - you can override this method to control how this list is generated</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>countResources()</code> is another <code>RestfulController</code> method - again, you can override the implementation to suite your API</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Total number of results per page</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Offset (used to calculate current page)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Property to sort by</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Direction of sorting</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Finally, we need to edit our <code>UrlMappings</code> to create the rest endpoints that were formerly generated using the <code>@Resource</code> annotation. Grails supports a <code>resource</code> property on URL mappings that will generate these URLs automatically. Edit <code>UrlMappings.groovy</code> and add the following rule to the <code>mappings</code> block:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/controller/com/example/UrlMappings.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="string"><span class="delimiter">&quot;</span><span class="content">/api/products</span><span class="delimiter">&quot;</span></span>(<span class="key">resources</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">product</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, we can create our new JSON view using pagination. Create the following view and template under <code>grails-app/views/product</code>:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/product/index.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Product</span>

model {
    <span class="predefined-type">Iterable</span>&lt;Product&gt; productList <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="predefined-type">Integer</span> productCount <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="predefined-type">Integer</span> max
    <span class="predefined-type">Integer</span> offset
    <span class="predefined-type">String</span> sort
    <span class="predefined-type">String</span> order
}

json {
    hal.paginate(Product, productCount, offset, max, sort, order) <i class="conum" data-value="3"></i><b>(3)</b>
    products tmpl.product(productList ?: <span class="type">[]</span>)
    count productCount
    max max
    offset offset
    sort sort
    order order
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>List of product resources</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Pagination params from our controller</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Here we pass the pagination parameters to the <code>paginate</code> method, which will generate the HAL pagination links</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">grails-app/views/product/_product.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Product</span>

model {
    Product product
}
json {
    hal.links(product)

    name product.name
    id product.inventoryId
    price product.price
    category product.category.name
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Make a request to <code><a href="http://locahost:8080/api/products" class="bare">http://locahost:8080/api/products</a></code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="string"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
{
  &quot;_links&quot;: {
    &quot;self&quot;: {
      &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products?offset=0&amp;max=10&quot;,
      &quot;hreflang&quot;: &quot;en&quot;,
      &quot;type&quot;: &quot;application/hal+json&quot;
    },
    &quot;first&quot;: {
      &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products?offset=0&amp;max=10&quot;,
      &quot;hreflang&quot;: &quot;en&quot;
    },
    &quot;next&quot;: {
      &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products?offset=10&amp;max=10&quot;,
      &quot;hreflang&quot;: &quot;en&quot;
    },
    &quot;last&quot;: {
      &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products?offset=10&amp;max=10&quot;,
      &quot;hreflang&quot;: &quot;en&quot;
    }
  },
  &quot;products&quot;: [
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/1&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;Cargo Pants&quot;,
      &quot;id&quot;: &quot;CLOTH001&quot;,
      &quot;price&quot;: 15.00,
      &quot;category&quot;: &quot;Clothing&quot;
    },
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/2&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;Sweater&quot;,
      &quot;id&quot;: &quot;CLOTH002&quot;,
      &quot;price&quot;: 12.00,
      &quot;category&quot;: &quot;Clothing&quot;
    },
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/3&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;Jeans&quot;,
      &quot;id&quot;: &quot;CLOTH003&quot;,
      &quot;price&quot;: 15.00,
      &quot;category&quot;: &quot;Clothing&quot;
    },
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/4&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;Blouse&quot;,
      &quot;id&quot;: &quot;CLOTH004&quot;,
      &quot;price&quot;: 18.00,
      &quot;category&quot;: &quot;Clothing&quot;
    },
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/5&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;T-Shirt&quot;,
      &quot;id&quot;: &quot;CLOTH005&quot;,
      &quot;price&quot;: 10.00,
      &quot;category&quot;: &quot;Clothing&quot;
    },
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/6&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;Jacket&quot;,
      &quot;id&quot;: &quot;CLOTH006&quot;,
      &quot;price&quot;: 20.00,
      &quot;category&quot;: &quot;Clothing&quot;
    },
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/7&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;Bookcase&quot;,
      &quot;id&quot;: &quot;FURN001&quot;,
      &quot;price&quot;: 40.00,
      &quot;category&quot;: &quot;Furniture&quot;
    },
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/8&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;Coffee Table&quot;,
      &quot;id&quot;: &quot;FURN002&quot;,
      &quot;price&quot;: 50.00,
      &quot;category&quot;: &quot;Furniture&quot;
    },
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/9&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;Vanity&quot;,
      &quot;id&quot;: &quot;FURN003&quot;,
      &quot;price&quot;: 90.00,
      &quot;category&quot;: &quot;Furniture&quot;
    },
    {
      &quot;_links&quot;: {
        &quot;self&quot;: {
          &quot;href&quot;: &quot;http://localhost:</span><span class="inline"><span class="inline-delimiter">${</span>serverPort<span class="inline-delimiter">}</span></span><span class="content">/api/products/10&quot;,
          &quot;hreflang&quot;: &quot;en&quot;,
          &quot;type&quot;: &quot;application/hal+json&quot;
        }
      },
      &quot;name&quot;: &quot;Table Saw&quot;,
      &quot;id&quot;: &quot;TOOL001&quot;,
      &quot;price&quot;: 120.00,
      &quot;category&quot;: &quot;Tools&quot;
    }
  ],
  &quot;count&quot;: 13,
  &quot;max&quot;: 10,
  &quot;offset&quot;: 0,
  &quot;sort&quot;: null,
  &quot;order&quot;: null
}</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Make a request to the <code>next</code> link, <code><a href="http://localhost:8080/product/index?offset=10&amp;max=10" class="bare">http://localhost:8080/product/index?offset=10&amp;max=10</a></code>, and you&#8217;ll see the next page of results. Due to the small number of resources in our sample data there will only be 2 pages - try changing the <code>max</code> parameter in your request to 4 - you&#8217;ll now retrieve additional pages to reflect the smaller page size.</p>
</div>
<div class="paragraph">
<p>If you&#8217;d like, repeat these steps to enable pagination for the other domain resources, such as <code>Order</code> and <code>Customer</code>.</p>
</div>


<h2 id="mimeTypes">5.5 Custom MIME Types</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/using-hal-with-json-views/edit/master/src/main/docs/guide/mimeTypes.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>HAL resources can declare a custom "MIME Type" (or "Content Type") that clients should use in order to interact with the API. Grails includes two generic HAL MIME types in the default <code>application.yml</code>:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/conf/application.yml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml">    <span class="key">accept</span>:
        <span class="key">header</span>:
            <span class="key">userAgents</span>:
                - <span class="string"><span class="content">Gecko</span></span>
                - <span class="string"><span class="content">WebKit</span></span>
                - <span class="string"><span class="content">Presto</span></span>
                - <span class="string"><span class="content">Trident</span></span>
<span class="key">types</span>:
    <span class="key">json</span>:
      - <span class="string"><span class="content">application/json</span></span>
      - <span class="string"><span class="content">text/json</span></span>
    <span class="key">hal</span>:
      - <span class="string"><span class="content">application/hal+json</span></span>
      - <span class="string"><span class="content">application/hal+xml</span></span>
    <span class="key">xml</span>:
      - <span class="string"><span class="content">text/xml</span></span>
      - <span class="string"><span class="content">application/xml</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can specify a custom MIME type for your API if you wish, by adding an entry to this configuration:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/conf/application.yml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yml">        <span class="key">xml</span>:
          - <span class="string"><span class="content">text/xml</span></span>
          - <span class="string"><span class="content">application/xml</span></span>
        <span class="key">atom</span>: <span class="string"><span class="content">application/atom+xml</span></span>
        <span class="key">css</span>: <span class="string"><span class="content">text/css</span></span>
        <span class="key">csv</span>: <span class="string"><span class="content">text/csv</span></span>
        <span class="key">js</span>: <span class="string"><span class="content">text/javascript</span></span>
        <span class="key">rss</span>: <span class="string"><span class="content">application/rss+xml</span></span>
        <span class="key">text</span>: <span class="string"><span class="content">text/plain</span></span>
        <span class="key">all</span>: <span class="string"><span class="content">'*/*'</span></span>
        <span class="key">inventory</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/vnd.com.example.inventory+json</span><span class="delimiter">&quot;</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="key">urlmapping</span>:
    <span class="key">cache</span>:
        <span class="key">maxsize</span>: <span class="string"><span class="content">1000</span></span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specifies a MIME type called <code>inventory</code>, and gives it a type specification (by convention, <code>vnd</code> indicates a "vendor" MIME type)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now you can use this custom MIME type in your JSON views, using the <code>type</code> helper method:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/product/show.gson</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">com.example.Product</span>

model {
    Product product
}

json {
    hal.links(product)
    hal.embedded(<span class="key">category</span>: product.category)
    hal.type(<span class="string"><span class="delimiter">&quot;</span><span class="content">inventory</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
    id product.inventoryId
    name product.name
    price product.price
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>hal.type()</code> method takes a string to identify the custom MIME type in the <code>application.yml</code> file, or an explicit MIME specification as a string</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Make a request to <code><a href="http://localhost:8080/api/products/1" class="bare">http://localhost:8080/api/products/1</a></code> to see the custom content-type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl -i localhost:8080/product/1

HTTP/1.1 200
X-Application-Context: application:development
Content-Type: application/vnd.com.example.inventory+json;charset=UTF-8 <i class="conum" data-value="1"></i><b>(1)</b>
Transfer-Encoding: chunked
Date: Sun, 05 Feb 2017 01:51:08 GMT

        def result = render(view: &quot;/product/show&quot;, model:[product: product])

        then:
        result.json._embedded
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Note the new MIME type in the <code>Content-Type</code> header</td>
</tr>
</table>
</div>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../guide/buildingApi.html">&lt;&lt; <strong>4</strong><span>Building our API</span></a></div>
                
                    <div class="toc-item next-right"><a href="../guide/explorableAPI.html"><strong>6</strong><span>Explore the API</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title" style="text-align: right"><a href="https://travis-ci.org/grails-guides/using-hal-with-json-views"><img src="https://travis-ci.org/grails-guides/using-hal-with-json-views.svg?branch=master" /></a></div>            
                 <div class="local-title">
                    <a href="https://github.com/grails-guides/using-hal-with-json-views">
                    <svg height="35" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="35" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a> &nbsp;&nbsp;Get the Code
                </div>
                <div class="menu">
                    <div class="input-group">                        
                        <button href="#" onclick="document.getElementById('github-url').value='git@github.com:grails-guides/using-hal-with-json-views.git'" class="codeButton">SSH</button>
                        <button onclick="document.getElementById('github-url').value='https://github.com/grails-guides/using-hal-with-json-views.git'" class="codeButton">HTTPS</button>
                        <button onclick="document.getElementById('github-url').value='https://github.com/grails-guides/using-hal-with-json-views'" class="codeButton">Subversion</button>
                    </div>
       
                    <div class="input-group">                    
                        <!-- Target -->
                        <input id="github-url" value="git@github.com:grails-guides/using-hal-with-json-views.git" type="text" />

                        <!-- Trigger -->
                        <button class="clipbtn" type="button" data-clipboard-target="#github-url">

                            <img width="13" src="../img/clippy.svg" alt="Copy to clipboard">
                        </button>       

                    </div>
                    <div class="input-group">
                      <a href="https://github.com/grails-guides/using-hal-with-json-views/archive/master.zip" class="downloadButton">Download ZIP</a>
                    </div>
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    Copies of this document may be made for your own use and for distribution to others, provided that you do not charge any fee for such copies and further provided that each copy contains this Copyright Notice, whether distributed in print or electronically. All guides are released with an ASLv2 license for the code, and Creative Commons license for the writing. 
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
