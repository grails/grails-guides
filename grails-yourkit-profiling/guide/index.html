<!DOCTYPE html>
<html>
  <head>
    <meta name='google-site-verification' content='REYQ1_I6HGowAE7LOLVqfQbnKaB4IfFpMlGzMbJj55Q' />
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <link rel='icon' href='../img/favicon.ico' />
    <link rel='mask-icon' href='/../img/grails-pinned-icon.svg' color='feb672' />
    <meta charset='UTF-8' />
    <title>Grails YourKit Profiling | Grails Guides | Grails Framework</title>
    <meta name='description' content='Grails YourKit Profiling. In this guide you will learn how to profile Memory and CPU on a Grails applications using the YourKit Java Profiler tool.' />
    <link rel='stylesheet' href='../css/main.css' />
    <link rel='stylesheet' href='../css/screen.css' />
    <script src='https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js'></script>
  </head>
  <body class='guide'><header class='mainheader'>
  <div class='content'>
    <a href='http://grails.org/index.html'><img class='grailslogo' src='../img/grails_logo.svg' alt='Grails Logo' /></a>
    <a href='javascript:show(&apos;topmenus&apos;, &apos;showNavigationLink&apos;)' id='showNavigationLink' class='mobile align-center'>Show Navigation</a>
    <div id='topmenus'>
      <nav class='secondarymenu' id='secondarymenu'><ul>
  <li>
    <a href='http://grails.org/learning.html'>Learning</a>
  </li>
  <li>
    <a href='http://grails.org/community.html'>Community</a>
  </li>
  <li>
    <a href='http://grails.org/search.html'>Search</a>
  </li>
</ul></nav>
      <nav class='mainmenu' id='mainmenu'><ul>
  <li>
    <a href='http://grails.org/documentation.html'>Documentation</a>
  </li>
  <li>
    <a href='http://grails.org/download.html'>Download</a>
  </li>
  <li>
    <a href='http://plugins.grails.org'>Plugins</a>
  </li>
  <li>
    <a href='http://guides.grails.org/index.html'>Guides</a>
  </li>
  <li>
    <a href='http://grails.org/faq.html'>FAQ</a>
  </li>
  <li>
    <a href='http://grails.org/support.html'>Support</a>
  </li>
</ul></nav>
    </div>
  </div>
</header><div class='fullwidth'><article class="guide">
    <aside>
        <a href="https://travis-ci.org/grails-guides/grails-yourkit-profiling"><img src="https://travis-ci.org/grails-guides/grails-yourkit-profiling.svg?branch=master"></a>

        <button type="button" class="btn btn-large" onclick="window.location.href=&quot;https://github.com/grails-guides/grails-yourkit-profiling&quot;"><img height="15" src="../img/github_white.svg" alt="Github"/><span>&nbsp;Get the Code</span></button>


        <ul class="githublinks">
            <li><button type="button" class="btn btn-default" href="#" onclick="document.getElementById('github-url').value='git@github.com:grails-guides/grails-yourkit-profiling.git'" class="codeButton">SSH</button></li>
            <li><button type="button" class="btn btn-default" onclick="document.getElementById('github-url').value='https://github.com/grails-guides/grails-yourkit-profiling.git'" class="codeButton">HTTPS</button></li>
        </ul>
        <div class="input-group">
            <!-- Target -->
            <input id="github-url" value="git@github.com:grails-guides/grails-yourkit-profiling.git" type="text" />
            <!-- Trigger -->
            <button type="button" class="clippy btn btn-default" type="button" data-clipboard-target="#github-url">
                <img width="13" src="../img/clippy.svg" alt="Copy to clipboard">
            </button>
        </div>
        <script>var clipboard = new Clipboard('.clippy');</script>
        <button type="button" class="btn btn-large" onclick="window.location.href=&quot;https://github.com/grails-guides/grails-yourkit-profiling/archive/master.zip&quot;">Download ZIP</button>
        
        <div id="table-of-content">
            <h3>Table of Contents</h3>
            
            <div class="toc-item" style="margin-left:0px"><a href="#training"><strong>1</strong><span>Grails Training</span></a></div>
            
            <div class="toc-item" style="margin-left:0px"><a href="#gettingStarted"><strong>2</strong><span>Getting Started</span></a></div>
            
            <div class="toc-item" style="margin-left:10px"><a href="#requirements"><strong>2.1</strong><span>What you will need</span></a></div>
            
            <div class="toc-item" style="margin-left:10px"><a href="#howto"><strong>2.2</strong><span>How to complete the guide</span></a></div>
            
            <div class="toc-item" style="margin-left:0px"><a href="#evaluatingTheApp"><strong>3</strong><span>Evaluating the Application</span></a></div>
            
            <div class="toc-item" style="margin-left:10px"><a href="#installYourKit"><strong>3.1</strong><span>Install YourKit</span></a></div>
            
            <div class="toc-item" style="margin-left:10px"><a href="#startProfiling"><strong>3.2</strong><span>Start Profiling</span></a></div>
            
            <div class="toc-item" style="margin-left:10px"><a href="#insertStudents"><strong>3.3</strong><span>Insert Students</span></a></div>
            
            <div class="toc-item" style="margin-left:0px"><a href="#inefficientDelete"><strong>4</strong><span>Inefficient Delete</span></a></div>
            
            <div class="toc-item" style="margin-left:0px"><a href="#excessiveGarbageCollection"><strong>5</strong><span>Excessive Garbage Collection</span></a></div>
            
            <div class="toc-item" style="margin-left:0px"><a href="#excessiveHeapMemory"><strong>6</strong><span>Excessive Heap Memory</span></a></div>
            
            <div class="toc-item" style="margin-left:0px"><a href="#conclusion"><strong>7</strong><span>Conclusion</span></a></div>
            
            <div class="toc-item" style="margin-left:10px"><a href="#yourKitBestFeatures"><strong>7.1</strong><span>YourKit's Best Features</span></a></div>
            
            <div class="toc-item" style="margin-left:0px"><a href="#helpWithGrails"><strong>8</strong><span>Help with Grails</span></a></div>
            
            <div style="clear:both" ></div>
        </div>
        
    </aside>
    <header>
        <h1>Grails YourKit Profiling</h1>
        <p>In this guide you will learn how to profile Memory and CPU on a Grails applications using the YourKit Java Profiler tool.</p>
        <p><strong>Authors:</strong> Nirav Assar</p>
        <p><strong>Grails Version:</strong> 3.3.2</p>
    </header>
    

<h1 id="training">1 Grails Training</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/training.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p><strong>Grails Training</strong> - Developed and delivered by the folks who created and actively maintain the Grails framework!.</p>
</div>
<div id="ocitraining"></div>
<script type="text/javascript">
var getJSON = function(url, callback) {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    xhr.responseType = 'json';
    xhr.onload = function() {
      var status = xhr.status;
      if (status == 200) {
        callback(null, xhr.response);
      } else {
        callback(status);
      }
    };
    xhr.send();
};
getJSON('https://oci-training.cfapps.io/training', function(err, data) {
  var msg = '';
  if (err != null) {
      msg = 'Something went wrong while retrieving OCI training offerings';

  } else {
      if ( data.length == 0 ) {
         msg = '<p><b>Nothing scheduled at the moment - please check back again soon!</b></p>.';

      } else {
        msg += '<table>';
        msg += '<thead>';
        msg += '<tr><th>Course</th><th>Date(s)</th><th>Instructor(s)</th><th>Hour(s)</th></tr>';
        msg += '</thead>';
        msg += '<tbody>';
        for ( var i = 0; i < data.length; i++ ) {
            msg += '<tr><td><a href="'+ data[i].enrollmentLink + '">'+ data[i].course + '</a></td><td>'+ data[i].dates + '</td><td>'+ data[i].instructors + '</td><td>'+ data[i].hours + '</td></tr>';
        }
        msg += '</tbody>';
        msg += '</table>';
      }
  }
  var ociTraining = document.getElementById("ocitraining");
  ociTraining.innerHTML = msg;
});
</script>


<h1 id="gettingStarted">2 Getting Started</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/gettingStarted.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>In this guide you are going to learn how to profile memory and CPU on a Grails Application.  An application is already created
for you with contrived scenarios that spike memory and CPU parameters. We will examine these scenarios and the associated code
in order to profile memory, CPU, heap and garbage collection. We will then continue to optimize the code and see how it affects
performance.</p>
</div>
<div class="paragraph">
<p>Note that the focus of this guide is to analyze with the profiler, not necessarily Grails development. Thus the performance problems are rudimentary and obvious, as well the code solutions. The code solutions are already created for you to be injected while you follow along in the guide.</p>
</div>


<h2 id="requirements">2.1 What you will need</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/requirements.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>To complete this guide, you will need the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Some time on your hands</p>
</li>
<li>
<p>A decent text editor or IDE</p>
</li>
<li>
<p>JDK 1.7 or greater installed with <code>JAVA_HOME</code> configured appropriately</p>
</li>
</ul>
</div>


<h2 id="howto">2.2 How to complete the guide</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/howto.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>To get started do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/grails-guides/grails-yourkit-profiling/archive/master.zip">Download</a> and unzip the source</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Clone the <a href="https://git-scm.com/">Git</a> repository:<br>
<code>git clone <a href="https://github.com/grails-guides/grails-yourkit-profiling.git" class="bare">https://github.com/grails-guides/grails-yourkit-profiling.git</a></code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Grails guides repositories contain two folders:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>initial</code>  Initial project. Often a simple Grails app with some additional code to give you a head-start.</p>
</li>
<li>
<p><code>complete</code> A completed example. It is the result of working through the steps presented by the guide and applying those changes to the <code>initial</code> folder.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To complete the guide, go to the <code>initial</code> folder</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cd</code> into <code>grails-guides/grails-yourkit-profiling/initial</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>and follow the instructions in the next sections.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can go right to the <strong>completed example</strong> if you <code>cd</code> into <code>grails-guides/grails-yourkit-profiling/complete</code>
</td>
</tr>
</table>
</div>


<h1 id="evaluatingTheApp">3 Evaluating the Application</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/evaluatingTheApp.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>The guide comes built with a simple application created for you.  The purpose of the application is to have ready-made
contrived examples of code which trigger performance issues and cause the tool to display memory, CPU, and heap problems.</p>
</div>
<div class="paragraph">
<p>The application is titled Grails YourKit Profile and has a simple domain object <code>Student</code>. The application has several links
that trigger operations for the purpose of inducing performance issues. In summary, the application has the ability to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>insert a large amount of students in the database (with random names and grades)</p>
</li>
<li>
<p>delete students that have a grade less that an A</p>
</li>
<li>
<p>print the students to the screen</p>
</li>
<li>
<p>import a spreadsheet of student entries</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_browse_the_code">Browse the Code</h3>
<div class="paragraph">
<p>Please take a moment to browse through the code and familiarize yourself with the important classes of the application.</p>
</div>
<div class="paragraph">
<p><code>StudentController</code> which routes to service functionality of insert, delete, print, import.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/controllers/demo/StudentController.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> demo

<span class="keyword">import</span> <span class="include">groovy.transform.CompileStatic</span>
<span class="keyword">import</span> <span class="include">org.springframework.context.MessageSource</span>

<span class="annotation">@CompileStatic</span>
<span class="type">class</span> <span class="class">StudentController</span> {

    <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> LARGE_NUMBER = <span class="integer">20000</span>
    <span class="directive">static</span> scaffold = Student
    MessageSource messageSource

    StudentService studentService
    StudentDataService studentDataService

    <span class="keyword">def</span> <span class="function">insert</span>() {
        studentService.insertStudents(LARGE_NUMBER)
        render studentCountMessage()
    }

    <span class="keyword">def</span> <span class="function">delete</span>() {
        studentService.deleteStudentsWithGradleLessThanA()
        render studentCountMessage()
    }

    <span class="keyword">def</span> <span class="function">print</span>() {
        render studentService.htmlUnorderedListOfStudents()
    }

    <span class="keyword">def</span> <span class="function">import25kStudents</span>() {
        studentService.saveExcelStudents(<span class="string"><span class="delimiter">&quot;</span><span class="content">studentImport-25krows.xlsx</span><span class="delimiter">&quot;</span></span>)
        render studentCountMessage()
    }

    <span class="keyword">def</span> <span class="function">import75kStudents</span>() {
        studentService.saveExcelStudents(<span class="string"><span class="delimiter">&quot;</span><span class="content">studentImport-75krows.xlsx</span><span class="delimiter">&quot;</span></span>)
        render studentCountMessage()
    }

    <span class="directive">protected</span> <span class="predefined-type">String</span> studentCountMessage() {
        <span class="type">int</span> count = studentDataService.count()
        <span class="predefined-type">String</span> defaultMsg = <span class="string"><span class="delimiter">&quot;</span><span class="content">Student Count: </span><span class="inline"><span class="inline-delimiter">${</span>count<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
        messageSource.getMessage(<span class="string"><span class="delimiter">'</span><span class="content">student.count</span><span class="delimiter">'</span></span>, [count] <span class="keyword">as</span> <span class="predefined-type">Object</span><span class="type">[]</span>, defaultMsg, request.locale)
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>StudentDataService</code>: a <a href="http://gorm.grails.org/latest/hibernate/manual/index.html#dataServices">GORM Data Service</a> which
 takes the work out of implemented service layer logic.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/services/demo/StudentDataService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> demo

<span class="keyword">import</span> <span class="include">grails.gorm.services.Service</span>
<span class="keyword">import</span> <span class="include">groovy.transform.CompileStatic</span>

<span class="annotation">@CompileStatic</span>
<span class="annotation">@Service</span>(Student)
<span class="type">interface</span> StudentDataService {
    <span class="predefined-type">List</span>&lt;Student&gt; findAll()
    <span class="predefined-type">List</span>&lt;Student&gt; findByGradeLessThan(<span class="predefined-type">BigDecimal</span> grade)
    <span class="type">int</span> count()
    Student save(<span class="predefined-type">String</span> name, <span class="predefined-type">BigDecimal</span> grade)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Student</code> - Domain object used to store a student</p>
</div>
<div class="listingblock">
<div class="title">grails-app/domain/demo/Student.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> demo

<span class="keyword">import</span> <span class="include">groovy.transform.CompileStatic</span>

<span class="annotation">@CompileStatic</span>
<span class="type">class</span> <span class="class">Student</span> {
    <span class="predefined-type">String</span> name
    <span class="predefined-type">BigDecimal</span> grade

    <span class="predefined-type">String</span> toString() {
        <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>name<span class="inline-delimiter">}</span></span><span class="content">-Grade:</span><span class="inline"><span class="inline-delimiter">$</span>grade</span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>StudentService</code> - Service which implements the operations of the application</p>
</div>
<div class="listingblock">
<div class="title">grails-app/services/demo/StudentService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> demo

<span class="keyword">import</span> <span class="include">groovy.util.logging.Slf4j</span>
<span class="keyword">import</span> <span class="include">org.apache.poi.ss.usermodel.Workbook</span>
<span class="keyword">import</span> <span class="include">org.apache.poi.ss.usermodel.WorkbookFactory</span>
<span class="keyword">import</span> <span class="include">org.grails.plugins.excelimport.ExcelImportService</span>
<span class="keyword">import</span> <span class="include">groovy.transform.CompileStatic</span>
<span class="keyword">import</span> <span class="include">grails.gorm.transactions.Transactional</span>

<span class="annotation">@Slf4j</span>
<span class="annotation">@CompileStatic</span>
<span class="type">class</span> <span class="class">StudentService</span> {

    StudentDataService studentDataService

    <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> boundary = <span class="integer">100</span>
    <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">BigDecimal</span> A_GRADE = <span class="integer">90</span>
    <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Map</span> CONFIG_STUDENT_COLUMN_MAP = [
            <span class="key">sheet</span>: <span class="string"><span class="delimiter">'</span><span class="content">Sheet1</span><span class="delimiter">'</span></span>,
            <span class="key">startRow</span>: <span class="integer">1</span>,
            <span class="key">columnMap</span>: [
                    <span class="string"><span class="delimiter">'</span><span class="content">A</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">name</span><span class="delimiter">'</span></span>,
                    <span class="string"><span class="delimiter">'</span><span class="content">B</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">grade</span><span class="delimiter">'</span></span>
            ]
    ]

    <span class="predefined-type">Random</span> random = <span class="keyword">new</span> <span class="predefined-type">Random</span>()

    <span class="annotation">@Transactional</span>
    <span class="type">void</span> insertStudents(<span class="type">int</span> numberOfStudents) {
        numberOfStudents.times {
            <span class="predefined-type">BigDecimal</span> grade = random.nextInt(boundary) <span class="keyword">as</span> <span class="predefined-type">BigDecimal</span>
            studentDataService.save(produceRandomName(), grade)
        }
    }

    <span class="comment">//tag::deleteStudents[]</span>
    <span class="annotation">@Transactional</span>
    <span class="type">void</span> deleteStudentsWithGradleLessThanA() {
        <span class="predefined-type">List</span>&lt;Student&gt; students = studentDataService.findByGradeLessThan(A_GRADE)
        log.info <span class="string"><span class="delimiter">'</span><span class="content">#{} students with less than A</span><span class="delimiter">'</span></span>, students.size()
        <span class="keyword">for</span> (Student s <span class="keyword">in</span> students) {
            s.delete(<span class="key">flush</span>: <span class="predefined-constant">true</span>)
        }
    }
    <span class="comment">//end::deleteStudents[]</span>

    <span class="comment">//tag::htmlUnorderedListOfStudents[]</span>
    <span class="predefined-type">String</span> htmlUnorderedListOfStudents() {
        <span class="predefined-type">List</span>&lt;Student&gt; students = studentDataService.findAll()
        <span class="predefined-type">String</span> result = <span class="string"><span class="delimiter">'</span><span class="content">&lt;ul&gt;</span><span class="delimiter">'</span></span>
        <span class="keyword">for</span> (s <span class="keyword">in</span> students) {
            result += <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;li&gt;</span><span class="inline"><span class="inline-delimiter">${</span>s.toString()<span class="inline-delimiter">}</span></span><span class="content">&lt;/li&gt;</span><span class="delimiter">&quot;</span></span>
        }
        result += <span class="string"><span class="delimiter">'</span><span class="content">&lt;/ul&gt;</span><span class="delimiter">'</span></span>
        result
    }
    <span class="comment">//end::htmlUnorderedListOfStudents[]</span>

    <span class="annotation">@Transactional</span>
    <span class="type">void</span> saveExcelStudents(<span class="predefined-type">String</span> fileName) {
        <span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; studentData = importStudents(fileName)
        <span class="keyword">for</span> (<span class="predefined-type">Map</span> s <span class="keyword">in</span> studentData) {
            studentDataService.save(s.name <span class="keyword">as</span> <span class="predefined-type">String</span>, s.grade <span class="keyword">as</span> <span class="predefined-type">BigDecimal</span>)
        }
    }

    <span class="comment">//tag::importStudents[]</span>
    <span class="directive">protected</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; importStudents(<span class="predefined-type">String</span> fileName) {
        Workbook workbook = WorkbookFactory.create(<span class="keyword">new</span> <span class="predefined-type">File</span>(fileName))
        ExcelImportService excelImportService = <span class="keyword">new</span> ExcelImportService()
        excelImportService.convertColumnMapConfigManyRows(workbook, CONFIG_STUDENT_COLUMN_MAP) <span class="keyword">as</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt;
    }
    <span class="comment">//end::importStudents[]</span>

    <span class="directive">protected</span> <span class="predefined-type">String</span> produceRandomName() {
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Name</span><span class="inline"><span class="inline-delimiter">${</span>random.nextInt(<span class="integer">2</span>*boundary)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>index.gsp</code> - The UI of the application which contains the links of the front page</p>
</div>
<div class="listingblock">
<div class="title">grails-app/views/index.gsp</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Grails Yourkit Profile&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">title&gt;</span></span><span class="error">
</span>    &lt;meta name=<span class="string"><span class="delimiter">&quot;</span><span class="content">layout</span><span class="delimiter">&quot;</span></span> content=<span class="string"><span class="delimiter">&quot;</span><span class="content">main</span><span class="delimiter">&quot;</span></span>/&gt;
&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">head&gt;</span></span><span class="error">
</span>&lt;body&gt;
&lt;content tag=<span class="string"><span class="delimiter">&quot;</span><span class="content">nav</span><span class="delimiter">&quot;</span></span>&gt;
    &lt;li <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;<span class="class">a</span> href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span> <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown-toggle</span><span class="delimiter">&quot;</span></span> <span class="class">data</span>-toggle=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown</span><span class="delimiter">&quot;</span></span> role=<span class="string"><span class="delimiter">&quot;</span><span class="content">button</span><span class="delimiter">&quot;</span></span> aria-haspopup=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> aria-expanded=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span>&gt;Application Status &lt;span <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">caret</span><span class="delimiter">&quot;</span></span>&gt;&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">span&gt;&lt;</span><span class="delimiter">/</span></span><span class="class">a</span>&gt;
        &lt;ul <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown-menu</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;<span class="class">li</span>&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;<span class="key">Environment</span>: <span class="error">$</span>{grails.util.Environment.current.name}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
            &lt;li&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;App <span class="key">profile</span>: <span class="error">$</span>{grailsApplication.config.grails?.profile}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
            &lt;li&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;App <span class="key">version</span>:
                &lt;<span class="key">g</span>:meta name=<span class="string"><span class="delimiter">&quot;</span><span class="content">info.app.version</span><span class="delimiter">&quot;</span></span>/&gt;&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;</span></span><span class="error">
</span>            &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">li&gt;</span></span><span class="error">
</span>            &lt;li role=<span class="string"><span class="delimiter">&quot;</span><span class="content">separator</span><span class="delimiter">&quot;</span></span> <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">divider</span><span class="delimiter">&quot;</span></span>&gt;&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">li&gt;</span></span><span class="error">
</span>            &lt;<span class="class">li</span>&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;Grails <span class="key">version</span>:
                &lt;<span class="key">g</span>:meta name=<span class="string"><span class="delimiter">&quot;</span><span class="content">info.app.grailsVersion</span><span class="delimiter">&quot;</span></span>/&gt;&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;</span></span><span class="error">
</span>            &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">li&gt;</span></span><span class="error">
</span>            &lt;li&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;Groovy <span class="key">version</span>: <span class="error">$</span>{GroovySystem.getVersion()}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
            &lt;li&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;JVM <span class="key">version</span>: <span class="error">$</span>{<span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">'</span><span class="content">java.version</span><span class="delimiter">'</span></span>)}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
            &lt;li role=<span class="string"><span class="delimiter">&quot;</span><span class="content">separator</span><span class="delimiter">&quot;</span></span> <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">divider</span><span class="delimiter">&quot;</span></span>&gt;&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">li&gt;</span></span><span class="error">
</span>            &lt;<span class="class">li</span>&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;Reloading <span class="key">active</span>: <span class="error">$</span>{grails.util.Environment.reloadingAgentEnabled}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
        &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">ul&gt;</span></span><span class="error">
</span>    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">li&gt;</span></span><span class="error">
</span>    &lt;li <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;<span class="class">a</span> href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span> <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown-toggle</span><span class="delimiter">&quot;</span></span> <span class="class">data</span>-toggle=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown</span><span class="delimiter">&quot;</span></span> role=<span class="string"><span class="delimiter">&quot;</span><span class="content">button</span><span class="delimiter">&quot;</span></span> aria-haspopup=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> aria-expanded=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span>&gt;Artefacts &lt;span <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">caret</span><span class="delimiter">&quot;</span></span>&gt;&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">span&gt;&lt;</span><span class="delimiter">/</span></span><span class="class">a</span>&gt;
        &lt;ul <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown-menu</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;<span class="class">li</span>&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;<span class="key">Controllers</span>: <span class="error">$</span>{grailsApplication.controllerClasses.size()}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
            &lt;li&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;<span class="key">Domains</span>: <span class="error">$</span>{grailsApplication.domainClasses.size()}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
            &lt;li&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;<span class="key">Services</span>: <span class="error">$</span>{grailsApplication.serviceClasses.size()}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
            &lt;li&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;Tag <span class="key">Libraries</span>: <span class="error">$</span>{grailsApplication.tagLibClasses.size()}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
        &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">ul&gt;</span></span><span class="error">
</span>    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">li&gt;</span></span><span class="error">
</span>    &lt;li <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;<span class="class">a</span> href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span> <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown-toggle</span><span class="delimiter">&quot;</span></span> <span class="class">data</span>-toggle=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown</span><span class="delimiter">&quot;</span></span> role=<span class="string"><span class="delimiter">&quot;</span><span class="content">button</span><span class="delimiter">&quot;</span></span> aria-haspopup=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> aria-expanded=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span>&gt;Installed Plugins &lt;span <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">caret</span><span class="delimiter">&quot;</span></span>&gt;&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">span&gt;&lt;</span><span class="delimiter">/</span></span><span class="class">a</span>&gt;
        &lt;ul <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dropdown-menu</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;<span class="class">g</span>:each var=<span class="string"><span class="delimiter">&quot;</span><span class="content">plugin</span><span class="delimiter">&quot;</span></span> <span class="keyword">in</span>=<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>applicationContext.getBean(<span class="string"><span class="delimiter">'</span><span class="content">pluginManager</span><span class="delimiter">'</span></span>).allPlugins<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>&gt;
                &lt;li&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="content">#</span><span class="delimiter">&quot;</span></span>&gt;<span class="error">$</span>{plugin.name} - <span class="error">$</span>{plugin.version}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;&lt;</span><span class="delimiter">/</span></span>li&gt;
            &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">g:each&gt;</span></span><span class="error">
</span>        &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">ul&gt;</span></span><span class="error">
</span>    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">li&gt;</span></span><span class="error">
</span>&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">content&gt;</span></span><span class="error">
</span>
    &lt;div id=<span class="string"><span class="delimiter">&quot;</span><span class="content">content</span><span class="delimiter">&quot;</span></span> role=<span class="string"><span class="delimiter">&quot;</span><span class="content">main</span><span class="delimiter">&quot;</span></span>&gt;
        &lt;section <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">row colset-2-its</span><span class="delimiter">&quot;</span></span>&gt;
            &lt;<span class="class">h1</span>&gt;Grails Yourkit Profile&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">h1&gt;</span></span><span class="error">
</span>
            &lt;div id=<span class="string"><span class="delimiter">&quot;</span><span class="content">controllers</span><span class="delimiter">&quot;</span></span> role=<span class="string"><span class="delimiter">&quot;</span><span class="content">navigation</span><span class="delimiter">&quot;</span></span>&gt;
                &lt;h2&gt;Available <span class="key">Controllers</span>:&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">h2&gt;</span></span><span class="error">
</span>                &lt;ul&gt;
                    &lt;<span class="key">g</span>:each var=<span class="string"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span> <span class="keyword">in</span>=<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>grailsApplication.controllerClasses.sort { <span class="local-variable">it</span>.fullName } <span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>&gt;
                        &lt;li <span class="type">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">controller</span><span class="delimiter">&quot;</span></span>&gt;
                            &lt;<span class="class">g</span>:link controller=<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>c.logicalPropertyName<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>&gt;<span class="error">$</span>{c.name}&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">g:link&gt;</span></span><span class="error">
</span>                        &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">li&gt;</span></span><span class="error">
</span>                    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">g:each&gt;</span></span><span class="error">
</span>                &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">ul&gt;</span></span><span class="error">
</span>
                &lt;h2&gt;Grails YourKit Profiling Operations&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">h2&gt;</span></span><span class="error">
</span>                &lt;table id=<span class="string"><span class="delimiter">&quot;</span><span class="content">profileOperations</span><span class="delimiter">&quot;</span></span>&gt;
                    &lt;tr&gt;
                        &lt;td&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>createLink (<span class="key">controller</span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">student</span><span class="delimiter">&quot;</span></span>, <span class="key">action</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">insert</span><span class="delimiter">&quot;</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>&gt;Insert Students&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;</span></span><span class="error">
</span>                     &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">tr&gt;</span></span><span class="error">
</span>                    &lt;tr&gt;
                        &lt;td&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>createLink (<span class="key">controller</span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">student</span><span class="delimiter">&quot;</span></span>, <span class="key">action</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">delete</span><span class="delimiter">&quot;</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>&gt;Delete Students&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;</span></span><span class="error">
</span>                    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">tr&gt;</span></span><span class="error">
</span>                    &lt;tr&gt;
                        &lt;td&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>createLink (<span class="key">controller</span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">student</span><span class="delimiter">&quot;</span></span>, <span class="key">action</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">print</span><span class="delimiter">&quot;</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>&gt;Print Students&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;</span></span><span class="error">
</span>                    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">tr&gt;</span></span><span class="error">
</span>                    &lt;tr&gt;
                        &lt;td&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>createLink (<span class="key">controller</span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">student</span><span class="delimiter">&quot;</span></span>, <span class="key">action</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">import25kStudents</span><span class="delimiter">&quot;</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>&gt;Import <span class="integer">25</span>k Students&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;</span></span><span class="error">
</span>                    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">tr&gt;</span></span><span class="error">
</span>                    &lt;tr&gt;
                        &lt;td&gt;&lt;a href=<span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>createLink (<span class="key">controller</span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">student</span><span class="delimiter">&quot;</span></span>, <span class="key">action</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">import75kStudents</span><span class="delimiter">&quot;</span></span>)<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>&gt;Import <span class="integer">75</span>k Students&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">a&gt;</span></span><span class="error">
</span>                    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">tr&gt;</span></span><span class="error">
</span>                &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">table&gt;</span></span><span class="error">
</span>            &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">div&gt;</span></span><span class="error">
</span>        &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">section&gt;</span></span><span class="error">
</span>    &lt;<span class="regexp"><span class="delimiter">/</span><span class="content">div&gt;</span></span><span class="error">
</span>
&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">body&gt;</span></span><span class="error">
</span>&lt;<span class="regexp"><span class="delimiter">/</span><span class="content">html&gt;</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>StudentServiceSpec</code> and <code>StudentServiceIntegrationSpec</code> - Test classes used to validate the functionality of the service. (For convenience)</p>
</div>
<div class="listingblock">
<div class="title">src/test/groovy/demo/StudentServiceSpec.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> demo

<span class="keyword">import</span> <span class="include">grails.testing.services.ServiceUnitTest</span>
<span class="keyword">import</span> <span class="include">spock.lang.Specification</span>

<span class="type">class</span> <span class="class">StudentServiceSpec</span> <span class="directive">extends</span> Specification <span class="directive">implements</span> ServiceUnitTest&lt;StudentService&gt; {

    <span class="keyword">def</span> <span class="string"><span class="delimiter">'</span><span class="content">test produceRandomName</span><span class="delimiter">'</span></span>() {
        <span class="key">when</span>:
        <span class="predefined-type">String</span> name = service.produceRandomName()

        <span class="key">then</span>:
        !name.isEmpty()
    }

    <span class="keyword">def</span> <span class="string"><span class="delimiter">'</span><span class="content">test importStudents</span><span class="delimiter">'</span></span>() {
        <span class="key">when</span>:
        <span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; studentData = service.importStudents(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/resources/studentImport-3rows.xlsx</span><span class="delimiter">&quot;</span></span>)

        <span class="key">then</span>:
        studentData.size() == <span class="integer">3</span>
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">src/integration-test/groovy/demo/StudentServiceIntegrationSpec.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">package</span> demo

<span class="keyword">import</span> <span class="include">grails.testing.mixin.integration.Integration</span>
<span class="keyword">import</span> <span class="include">grails.transaction.Rollback</span>
<span class="keyword">import</span> <span class="include">spock.lang.Specification</span>

<span class="annotation">@Rollback</span>
<span class="annotation">@Integration</span>
<span class="type">class</span> <span class="class">StudentServiceIntegrationSpec</span> <span class="directive">extends</span> Specification {

    StudentService studentService

    <span class="keyword">def</span> <span class="string"><span class="delimiter">'</span><span class="content">test insertStudents</span><span class="delimiter">'</span></span>() {
        <span class="key">when</span>:
        studentService.insertStudents(<span class="integer">100</span>)

        <span class="key">then</span>:
        Student.count() == old(Student.count()) + <span class="integer">100</span>
    }

    <span class="keyword">def</span> <span class="string"><span class="delimiter">'</span><span class="content">test deleteStudents</span><span class="delimiter">'</span></span>() {
        <span class="key">when</span>:
        studentService.insertStudents(<span class="integer">100</span>)
        studentService.deleteStudentsWithGradleLessThanA()

        <span class="key">then</span>:
        Student.count() &lt; (old(Student.count()) + <span class="integer">100</span>)
    }

    <span class="keyword">def</span> <span class="string"><span class="delimiter">'</span><span class="content">test htmlUnorderedListOfStudents</span><span class="delimiter">'</span></span>() {
        <span class="key">when</span>:
        studentService.insertStudents(<span class="integer">100</span>)
        <span class="predefined-type">String</span> results = studentService.htmlUnorderedListOfStudents()

        <span class="key">then</span>:
        !results.isEmpty()
        results.count(<span class="string"><span class="delimiter">'</span><span class="content">&lt;ul&gt;</span><span class="delimiter">'</span></span>) == <span class="integer">1</span>
        results.count(<span class="string"><span class="delimiter">'</span><span class="content">&lt;li&gt;</span><span class="delimiter">'</span></span>) == <span class="integer">100</span>
        results.count(<span class="string"><span class="delimiter">'</span><span class="content">&lt;/li&gt;</span><span class="delimiter">'</span></span>) == <span class="integer">100</span>
        results.count(<span class="string"><span class="delimiter">'</span><span class="content">&lt;/ul&gt;</span><span class="delimiter">'</span></span>) == <span class="integer">1</span>
    }

    <span class="keyword">def</span> <span class="string"><span class="delimiter">'</span><span class="content">test saveExcelStudents</span><span class="delimiter">'</span></span>() {
        <span class="key">when</span>:
        studentService.saveExcelStudents(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/integration-test/resources/studentImport-3rows.xlsx</span><span class="delimiter">&quot;</span></span>)

        <span class="key">then</span>:
        Student.count() == old(Student.count()) + <span class="integer">3</span>
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_run_the_application">Run the application</h3>
<div class="paragraph">
<p>Use the command below to run the app. Trigger some of the functionality initially to get familiar. Later we will run the
operation within the context of the profiler.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ ./gradlew bootRun</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_application_front_page">Application Front Page</h5>
<div class="paragraph">
<p><span class="image"><img src="../img/app_front.png" alt="792" width="518"></span></p>
</div>
</div>
</div>


<h2 id="installYourKit">3.1 Install YourKit</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/installYourKit.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Go to the <a href="https://www.yourkit.com/java/profiler/">YourKit</a> page and download the appropriate installation package. YourKit
offers a 15 day evaluation license. It also has options for a per-seat and corporate licenses. Note that YourKit offers a
cheaper license for students, while also offering a free license for open-source projects.</p>
</div>
<div class="sect2">
<h3 id="_ide_integration">IDE Integration</h3>
<div class="paragraph">
<p>Once the YourKit profile is installed, we can integrate the tool into an IDE. Note that this guide uses IntelliJ IDEA.
Follow the instructions for <a href="https://www.yourkit.com/docs/java/help/ide_integration.jsp">IDE integration</a></p>
</div>
</div>


<h2 id="startProfiling">3.2 Start Profiling</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/startProfiling.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>There are two ways to bind the profiler to a running application. Either one is preferable:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Bind After Application Running</p>
<div class="ulist">
<ul>
<li>
<p>This type of binding relies on the conventional Grails startup of the application, but at times binding may not be instant
with the attachment or other profiling functions.</p>
</li>
<li>
<p>Start the application with the command <code>grails run-app</code> or use the Run Configuration in the IDE <code>Grails: initial</code></p>
</li>
<li>
<p>Start the YourKit Profiler and in the Monitor Local Applications section, click on the <code>Application</code> PID.</p>
</li>
<li>
<p>Initiate the binding early in the application startup process for best results.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Bind on Startup</p>
<div class="ulist">
<ul>
<li>
<p>This type of binding results in quicker response times, but requires some startup configuration.</p>
</li>
<li>
<p>Create a Run Configuration with the main class <code>demo.Application</code>. Be sure to set the <code>Working Directory</code> to
<code>grails-yourkit-profiling\initial</code>, and also set the <code>Use of classpath module</code> to <code>initial_main</code>.</p>
</li>
<li>
<p>In the <code>VM Options:</code> set it to <code>-Xmx512m -Xms512m</code>. The VM in this Startup ignores the build.gradle entry.</p>
</li>
<li>
<p>Start the application with the pinwheel icon  from your IDE. Since Grails 3 relies on Gradle for its lifecyle management,
in IntelliJ, the pinwheel icon is not active unless you start the application from <code>Application.groovy</code>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_pinwheel_icon">Pinwheel icon</h5>
<div class="imageblock">
<div class="content">
<img src="../img/pinwheel.jpg" alt="20" width="20">
</div>
</div>
</div>
<div class="sect4">
<h5 id="_monitor_local_applications">Monitor Local Applications</h5>
<div class="imageblock">
<div class="content">
<img src="../img/monitoring.jpg" alt="500" width="500">
</div>
</div>
</div>


<h2 id="insertStudents">3.3 Insert Students</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/insertStudents.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Once the application is binded to the profiler we are ready to execute operations. We will need to generate some data into
the application.</p>
</div>
<div class="paragraph">
<p>Execute the <code>Insert Students</code> operation, which will generate 20,000 student entries with random names and
grades. At this point we are ready to continue with profiling in the following sections.</p>
</div>


<h1 id="inefficientDelete">4 Inefficient Delete</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/inefficientDelete.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>The application has inefficient delete functionality. Upon <code>Delete Students</code>, the application takes an excessive amount of
time to delete students that have grades less that 90. Let&#8217;s demonstrate how this can be analyzed with YourKit.</p>
</div>
<div class="sect2">
<h3 id="_analyze_in_profiler">Analyze In Profiler</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start CPU Profiling with Sampling option - this tracks method times with low overhead.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/cpu_profile.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
<li>
<p>Execute <code>Delete Students</code>. Observe that delete functionality takes a long while. Note the log output to the console has
repeated delete hql statements. Pause for about 2-3 minutes while delete takes place.</p>
</li>
<li>
<p>Now we must Capture Performance Snapshot. A snapshot view has much more detailed information than the CPU profile. We
will be able to dig into the performance statistics of the application. The snapshot will capture statistics from the time
the profiler was started till the moment the snapshot was initiated. Once the snapshot is prepared, open it.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/cpu_snapshot.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
<li>
<p>Navigate to Java EE Statistics&#8594;Database. Here we can see the excessive amount of delete statements made to the database,
along with the length of time. In the Reverse Call Tree, we can see the application method call responsible:
<code>demo.StudentService.deleteStudents()</code>. You may right-click and Open in IDE, which will take you directly to the code.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/cpu_database.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_examine_the_code">Examine the Code</h3>
<div class="paragraph">
<p>The code for <code>deleteStudents()</code> finds all students less than A grade. It then proceeds to cycle through each object and
issue a delete statement. Obviously this is responsible for the slowdown.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/services/demo/StudentService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">    <span class="annotation">@Transactional</span>
    <span class="type">void</span> deleteStudentsWithGradleLessThanA() {
        <span class="predefined-type">List</span>&lt;Student&gt; students = studentDataService.findByGradeLessThan(A_GRADE)
        log.info <span class="string"><span class="delimiter">'</span><span class="content">#{} students with less than A</span><span class="delimiter">'</span></span>, students.size()
        <span class="keyword">for</span> (Student s <span class="keyword">in</span> students) {
            s.delete(<span class="key">flush</span>: <span class="predefined-constant">true</span>)
        }
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_improve_the_code">Improve the Code</h3>
<div class="paragraph">
<p>It is much more efficient to simply issue one delete SQL query with a <code>where</code> clause.</p>
</div>
<div class="paragraph">
<p>We are going to use the <a href="http://gorm.grails.org/latest/hibernate/manual/index.html#dataServices">GORM Data Service</a> with a delete operations using JPA-QL:</p>
</div>
<div class="listingblock">
<div class="title">grails-app/services/demo/StudentService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">    <span class="type">void</span> deleteStudentsWithGradleLessThanA() {
        studentDataService.deleteByGradleLessThan(A_GRADE)
    }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">grails-app/services/demo/StudentDataService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="keyword">import</span> <span class="include">grails.gorm.services.Query</span>
<span class="keyword">import</span> <span class="include">grails.gorm.services.Service</span>
<span class="keyword">import</span> <span class="include">groovy.transform.CompileStatic</span>

<span class="annotation">@CompileStatic</span>
<span class="annotation">@Service</span>(Student)
<span class="type">interface</span> StudentDataService {
  ...
    <span class="annotation">@Query</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">delete </span><span class="inline"><span class="inline-delimiter">${</span>Student student<span class="inline-delimiter">}</span></span><span class="content"> where </span><span class="inline"><span class="inline-delimiter">$</span>student</span><span class="content">.grade &lt;= </span><span class="inline"><span class="inline-delimiter">$</span>grade</span><span class="delimiter">&quot;</span></span>)
    <span class="type">void</span> deleteByGradleLessThan(<span class="predefined-type">BigDecimal</span> grade)
}
...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now that the code improvement is made, we should restart the application with the profiler. Repeat <code>Insert Students</code> again. Repeat the steps in
<code>Analyze in Profiler</code> and observe the database <code>delete</code> call get reduced to 1.</p>
</div>
</div>


<h1 id="excessiveGarbageCollection">5 Excessive Garbage Collection</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/excessiveGarbageCollection.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>The application prints all the students to the screen in a very inefficient manner. Upon <code>Print Students</code>, the application creates
an excessive amount of objects. This results in the JVM overcompensating with garbage collection.</p>
</div>
<div class="paragraph">
<p>Set up the next scenario by restarting the application with profiling and execute <code>Insert Students</code> (2 times) to set up the scenario.</p>
</div>
<div class="sect2">
<h3 id="_analyze_in_profiler">Analyze In Profiler</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start Object Allocation Recording - this is used for memory and garbage collection issues.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/memory_profile.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
<li>
<p>Execute <code>Print Students</code>. Observe that print functionality takes a long while.</p>
</li>
<li>
<p>Now we must Capture Memory Snapshot. The snapshot will have a more detailed views and let us pinpoint the problematic areas
of garbage collection.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/memory_snapshot.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
<li>
<p>Navigate to the Garbage Objects Tab, then to the Hot Spots by Object Count. View the Method area and observe the
class <code>demo.StudentService.printStudents()</code> method. It is responsible for producing hundreds of thousands GC&#8217;d objects.
This is the source of the issue.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/garbage_objects.jpg" alt="800" width="800"></span></p>
</li>
</ol>
</div>
</li>
<li>
<p>We can also view the Garbage Collection graph that further illustrates the issue. Navigate to the Memory Tab&#8594;Memory and GC
telemetry and view the Garbage Collections graph. Notably the garbage collection activity has spiked during the <code>Print Students</code>
operation.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/garbage_telemetry.jpg" alt="800" width="800"></span></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_examine_the_code">Examine the Code</h3>
<div class="paragraph">
<p>The code for <code>printStudents()</code> retrieves all the students in the database. It then proceeds to take a string and repeatedly
add it to the the <code>result</code> String object. This causes new String objects on every iteration.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/services/demo/StudentService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">    <span class="predefined-type">String</span> htmlUnorderedListOfStudents() {
        <span class="predefined-type">List</span>&lt;Student&gt; students = studentDataService.findAll()
        <span class="predefined-type">String</span> result = <span class="string"><span class="delimiter">'</span><span class="content">&lt;ul&gt;</span><span class="delimiter">'</span></span>
        <span class="keyword">for</span> (s <span class="keyword">in</span> students) {
            result += <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;li&gt;</span><span class="inline"><span class="inline-delimiter">${</span>s.toString()<span class="inline-delimiter">}</span></span><span class="content">&lt;/li&gt;</span><span class="delimiter">&quot;</span></span>
        }
        result += <span class="string"><span class="delimiter">'</span><span class="content">&lt;/ul&gt;</span><span class="delimiter">'</span></span>
        result
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_improve_the_code">Improve the Code</h3>
<div class="paragraph">
<p>We can improve the code by using <code>StringBuffer</code>.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/services/demo/StudentService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">    <span class="predefined-type">String</span> htmlUnorderedListOfStudents() {
        <span class="predefined-type">List</span>&lt;Student&gt; students = studentDataService.findAll()
        <span class="predefined-type">StringBuffer</span> result = <span class="keyword">new</span> <span class="predefined-type">StringBuffer</span>()
        result.append(<span class="string"><span class="delimiter">'</span><span class="content">&lt;ul&gt;</span><span class="delimiter">'</span></span>)
        <span class="keyword">for</span> (s <span class="keyword">in</span> students) {
            result.append(<span class="string"><span class="delimiter">'</span><span class="content">&lt;li&gt;</span><span class="delimiter">'</span></span>)
            result.append(s.toString())
            result.append(<span class="string"><span class="delimiter">'</span><span class="content">&lt;/li&gt;</span><span class="delimiter">'</span></span>)
        }
        result.append(<span class="string"><span class="delimiter">'</span><span class="content">&lt;/ul&gt;</span><span class="delimiter">'</span></span>)
        result.toString()
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now that the code improvement is made, we should restart the application with the profiler. Repeat <code>Insert Students</code> again. Repeat the steps in
<code>Analyze in Profiler</code>. Observe the garbage collection statistics go significantly down.</p>
</div>
</div>


<h1 id="excessiveHeapMemory">6 Excessive Heap Memory</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/excessiveHeapMemory.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>The application JVM memory is set <code>512m</code>. This is sufficient for a moderate load of xls imports, but will fail as the load
increases. Let&#8217;s first attempt to import a moderate load of students. Click <code>Import 25k Students</code> and observe that the application
is responsive and successfully imports the records.</p>
</div>
<div class="paragraph">
<p>An increase on the load of import will cause an Out of Memory exception. Before we run into this scenario we must start
profiling.</p>
</div>
<div class="sect2">
<h3 id="_analyze_in_profiler">Analyze In Profiler</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start Object Allocation Recording.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/memory_profile.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
<li>
<p>Proceed to the Memory Tab&#8594;Memory &amp; GC Telemetry. Here you can see the live graph of the Heap in real time.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/memory_gctelemetry.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
<li>
<p>Execute <code>Import 75k Students</code>. Note that processing will occur for a few minutes then Out of Memory exceptions will occur. Upon
the error, YourKit will autogenerate an <code>.hprof</code> memory dump file. This is the standard JVM profiling format. Load the file
and click on <code>Class</code> and see the first object <code>Xobj$AttrXobj</code>.  This class has instances that are exceeding the current JVM Heap
size.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/memory_hprof1.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
<li>
<p>Now let&#8217;s <code>Capture Memory Snapshot</code>. The snapshot will have a more detailed views and let us pinpoint the problematic areas
of memory usage.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/memory_snapshot.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
<li>
<p>Go to <code>Allocations by site</code>, then <code>Hot spots by object count</code>, click on the Method Area (1st item), then
<code>Back Traces</code> tab at the bottom right. Expand the trace to see <code>demo.StudentService.importStudents(String)</code>. This method is
where the objects are being generated.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="image"><img src="../img/memory_error.jpg" alt="700" width="700"></span></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_examine_the_code">Examine the Code</h3>
<div class="paragraph">
<p>The code for <code>importStudents()</code> invokes the POI API to load a <code>WorkbookFactory.</code> It is at this invocation where the JVM Heap
memory increases significantly. The object instances of <code>Xobj$AttrXobj</code>, along with <code>chars</code> and <code>Strings</code> increase proportionally
with the the size of the <code>xlsx</code> file. As a result, the JVM Heap is exceeded.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/services/demo/StudentService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">    <span class="directive">protected</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt; importStudents(<span class="predefined-type">String</span> fileName) {
        Workbook workbook = WorkbookFactory.create(<span class="keyword">new</span> <span class="predefined-type">File</span>(fileName))
        ExcelImportService excelImportService = <span class="keyword">new</span> ExcelImportService()
        excelImportService.convertColumnMapConfigManyRows(workbook, CONFIG_STUDENT_COLUMN_MAP) <span class="keyword">as</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">Map</span>&gt;
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_increase_the_memory">Increase the Memory</h3>
<div class="paragraph">
<p>This type of memory issue is difficult to track down but fortunately the solution is straight forward. A reasonable increase
in memory will solve the object allocation. No code change is needed. Adjust the file below:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">bootRun {
    jvmArgs = [<span class="string"><span class="delimiter">'</span><span class="content">-Xmx1024m</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">-Xms1024m</span><span class="delimiter">'</span></span>]
    addResources = <span class="predefined-constant">true</span>
}</code></pre>
</div>
</div>
</div>


<h1 id="conclusion">7 Conclusion</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/conclusion.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>Performance issues are a bear to identify, troubleshoot and eventually solve. In my experience bottlenecks often show up
with large dataset processing or algorithmic issues.  Tools can only help identify the issue, they cannot interpret the data
for you. By systematically breaking down the problem space, analyzing the code and using a capable toolset, we can forge a smoother
to the solution space.</p>
</div>


<h2 id="yourKitBestFeatures">7.1 YourKit's Best Features</h2>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/yourKitBestFeatures.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<div class="paragraph">
<p>In summary, here is list of YourKit&#8217;s most endearing qualities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>easy to install and integrates with your IDE</p>
</li>
<li>
<p>contains profiles of method execution times and counts</p>
</li>
<li>
<p>conditions can be set in the tool in association with triggers</p>
</li>
<li>
<p>local or remote monitoring</p>
</li>
<li>
<p>manages exports of data and dumps</p>
</li>
<li>
<p>features are user friendly and more sophisticated compared to conventional tools (jvisualvm, JConsole
javamelody)</p>
</li>
</ul>
</div>


<h1 id="helpWithGrails">8 Help with Grails</h1>

<div class='contribute-btn'>
    <button type='button' class='btn btn-default' onclick='window.location.href="https://github.com/grails-guides/grails-yourkit-profiling/edit/master/src/main/docs/guide/helpWithGrails.adoc"'>
        <i class='fa fa-pencil-square-o'></i> Improve this doc
    </button>
</div>


<h3 style="color: #333;">OCI sponsored the creation of this Guide. OCI offers several <a href="https://objectcomputing.com/products/grails/consulting-support/">Grails services</a>:</h3>

<img src="../img/oci-grails-services.svg"/>

<h3>Free consultation </h3>

<!-- This is the code that is needed to run the form -->

<!--Copy and paste into the document's head or body.-->

<script type="text/javascript">

    /** This section is only needed once per page if manually copying **/
    if (typeof MauticSDKLoaded == 'undefined') {
        var MauticSDKLoaded = true;
        var head            = document.getElementsByTagName('head')[0];
        var script          = document.createElement('script');
        script.type         = 'text/javascript';
        script.src          = 'https://mautic.objectcomputing.com/media/js/mautic-form.js';
        script.onload       = function() {
            MauticSDK.onLoad();
        };
        head.appendChild(script);
        var MauticDomain = 'https://mautic.objectcomputing.com';
        var MauticLang   = {
            'submittingMessage': "Please wait..."
        }
    }
</script>

<!--Copy and paste into the document's body.-->

<style type="text/css" scoped>
    .mauticform_wrapper { max-width: 600px; margin: 10px auto; }
    .mauticform-innerform {}
    .mauticform-post-success {}
    .mauticform-name { font-weight: bold; font-size: 1.5em; margin-bottom: 3px; }
    .mauticform-description { margin-top: 2px; margin-bottom: 10px; }
    .mauticform-error { margin-bottom: 10px; color: red; }
    .mauticform-message { margin-bottom: 10px;color: green; }
    .mauticform-row { display: block; margin-bottom: 20px; }
    .mauticform-label { font-size: 1.1em; display: block; font-weight: bold; margin-bottom: 5px; }
    .mauticform-row.mauticform-required .mauticform-label:after { color: #e32; content: " *"; display: inline; }
    .mauticform-helpmessage { display: block; font-size: 0.9em; margin-bottom: 3px; }
    .mauticform-errormsg { display: block; color: red; margin-top: 2px; }
    .mauticform-selectbox, .mauticform-input, .mauticform-textarea { width: 100%; padding: 0.5em 0.5em; border: 1px solid #CCC; background: #fff; box-shadow: 0px 0px 0px #fff inset; border-radius: 4px; box-sizing: border-box; }
    .mauticform-checkboxgrp-row {}
    .mauticform-checkboxgrp-label { font-weight: normal; }
    .mauticform-checkboxgrp-checkbox {}
    .mauticform-radiogrp-row {}
    .mauticform-radiogrp-label { font-weight: normal; }
    .mauticform-radiogrp-radio {}
    .mauticform-button-wrapper .mauticform-button.btn-default, .mauticform-pagebreak-wrapper .mauticform-pagebreak.btn-default { font-size: 14px; color: #fff;background-color: #feb672 ;border-color: #dddddd; padding: 15px 30px;}
    .mauticform-button-wrapper .mauticform-button, .mauticform-pagebreak-wrapper .mauticform-pagebreak { display: inline-block;margin-bottom: 0;font-weight: 600;text-align: center;vertical-align: middle;cursor: pointer;background-image: none;border: 1px solid transparent;white-space: nowrap;padding: 6px 12px;font-size: 13px;line-height: 1.3856;border-radius: none;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}
    .mauticform-button-wrapper .mauticform-button.btn-default[disabled], .mauticform-pagebreak-wrapper .mauticform-pagebreak.btn-default[disabled] { background-color:#feb672; border-color: #dddddd; opacity: 0.75; cursor: not-allowed; font-size: 14px; color: #fff; padding: 15px 30px;}
    .mauticform-pagebreak-wrapper .mauticform-button-wrapper {  display: inline; }
</style>
<div id="mauticform_wrapper_grailsorgconsultationform" class="mauticform_wrapper">
    <form autocomplete="false" role="form" method="post" action="https://mautic.objectcomputing.com/form/submit?formId=3" id="mauticform_grailsorgconsultationform" data-mautic-form="grailsorgconsultationform">

        <div class="mauticform-innerform">

          <div class="mauticform-page-wrapper mauticform-page-1" data-mautic-form-page="1">

            <div id="mauticform_grailsorgconsultationform_first_name"  data-validate="first_name" data-validation-type="text" class="mauticform-row mauticform-text mauticform-field-1 mauticform-required col-lg-6 col-md-6 col-sm-12 col-xs-12">
                <input id="mauticform_input_grailsorgconsultationform_first_name" name="mauticform[first_name]" value="" placeholder="First Name *" class="mauticform-input" type="text" />
                <span class="mauticform-errormsg" style="display: none;">This is required.</span>
            </div>

            <div id="mauticform_grailsorgconsultationform_last_name"  data-validate="last_name" data-validation-type="text" class="mauticform-row mauticform-text mauticform-field-2 mauticform-required col-lg-6 col-md-6 col-sm-12 col-xs-12">
                <input id="mauticform_input_grailsorgconsultationform_last_name" name="mauticform[last_name]" value="" placeholder="Last Name *" class="mauticform-input" type="text" />
                <span class="mauticform-errormsg" style="display: none;">This is required.</span>
            </div>

            <div id="mauticform_grailsorgconsultationform_email"  data-validate="email" data-validation-type="email" class="mauticform-row mauticform-email mauticform-field-3 mauticform-required col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <input id="mauticform_input_grailsorgconsultationform_email" name="mauticform[email]" value="" placeholder="Email *" class="mauticform-input" type="email" />
                <span class="mauticform-errormsg" style="display: none;">This is required.</span>
            </div>

            <div id="mauticform_grailsorgconsultationform_phone"  class="mauticform-row mauticform-tel mauticform-field-4 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <input id="mauticform_input_grailsorgconsultationform_phone" name="mauticform[phone]" value="" placeholder="Phone" class="mauticform-input" type="tel" />
                <span class="mauticform-errormsg" style="display: none;"></span>
            </div>

            <div id="mauticform_grailsorgconsultationform_company"  class="mauticform-row mauticform-text mauticform-field-5 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <input id="mauticform_input_grailsorgconsultationform_company" name="mauticform[company]" value="" placeholder="Company" class="mauticform-input" type="text" />
                <span class="mauticform-errormsg" style="display: none;"></span>
            </div>

            <div id="mauticform_grailsorgconsultationform_submit"  class="mauticform-row mauticform-button-wrapper mauticform-field-6" style="">
                <button type="submit" name="mauticform[submit]" id="mauticform_input_grailsorgconsultationform_submit" name="mauticform[submit]" value="" class="mauticform-button btn btn-default" value="1" style="border: none; margin-left: 14px;">SUBMIT</button>
            </div>
            </div>
        </div>

        <input type="hidden" name="mauticform[formId]" id="mauticform_grailsorgconsultationform_id" value="3"/>
        <input type="hidden" name="mauticform[return]" id="mauticform_grailsorgconsultationform_return" value=""/>
        <input type="hidden" name="mauticform[formName]" id="mauticform_grailsorgconsultationform_name" value="grailsorgconsultationform"/>
</form>
</div>

<!--The code below is the message that appears when someone hits submit. Feel free to style this how you see fit for Grails.org. All CSS is handled in the above code.-->

<div class="mauticform-error" id="mauticform_grailsorgconsultationform_error"></div>
<div class="mauticform-message" id="mauticform_grailsorgconsultationform_message"></div>

<h3 style="color: #333;">The <a href="https://objectcomputing.com/products/grails/consulting-support/">OCI Grails Team</a>
includes Grails co-founders, <b>Jeff Scott Brown and Graeme Rocher</b>.
Check our <a href="https://objectcomputing.com/training/catalog/grails/">Grails courses</a> and learn from the engineers who developed,
matured and maintain Grails.</h3>

<img src="../img/ocigrailsteam.png" style="max-width: 748px; width: 100%;" alt="Grails OCI Team">

</article></div><footer>
  <div class='content'>
    <div class='ocihometograils'>
      <span>Sponsored by</span>
      <a href='https://objectcomputing.com/products/grails/'><img class='' src='../img/oci_home_to_grails.svg' alt='OCI Home to Grails' /></a>
    </div>
    <nav class='socialmedianav'><ul>
  <li>
    <a href='https://grails-slack.cfapps.io'><img class='' src='../img/slack.svg' alt='Slack Icon' /></a>
  </li>
  <li>
    <a href='https://www.youtube.com/watch?v=XnRNfDGkBVg&amp;list=PLI74De5M9T73uH3WilDCePP2qfSDpMaGu'><img class='' src='../img/youtube.svg' alt='Youtube Icon' /></a>
  </li>
  <li>
    <a href='https://www.linkedin.com/groups/39757'><img class='' src='../img/linkedin.svg' alt='LinkedIn Icon' /></a>
  </li>
  <li>
    <a href='https://github.com/grails/'><img class='' src='../img/github.svg' alt='Github Icon' /></a>
  </li>
  <li>
    <a href='https://twitter.com/grailsframework'><img class='' src='../img/twitter.svg' alt='Twitter Icon' /></a>
  </li>
</ul></nav>
    <nav class='partnersnav'><ul>
  <li>Grails' repositories are hosted by
    <a href='http://artifactoryonline.com/'>Artifactory</a>
  </li>
  <li>Website hosting provided by
    <a href='http://run.pivotal.io/'>Pivotal</a>
  </li>
  <li>YourKit supports Grails with its 
    <a href='https://www.yourkit.com/java/profiler/index.jsp'>Java Profiler</a>
  </li>
  <li>Grails is Open Source
    <a href='http://www.apache.org/licenses/LICENSE-2.0.html'>Apache 2 License</a>
  </li>
</ul></nav>
  </div>
</footer><div>
  <script type='text/javascript'>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-82213539-2', 'auto');
              ga('send', 'pageview');
</script>
  <script type='text/javascript'>
adroll_adv_id = "HBWJH4CQCJGS5DJRSB4Z4D";
adroll_pix_id = "IVEQYFOZXZAPZMDVQH7BFE";
/* OPTIONAL: provide email to improve user identification */
/* adroll_email = "username@example.com"; */
(function () {
    var _onload = function(){
        if (document.readyState && !/loaded|complete/.test(document.readyState)){setTimeout(_onload, 10);return}
        if (!window.__adroll_loaded){__adroll_loaded=true;setTimeout(_onload, 50);return}
        var scr = document.createElement("script");
        var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
        scr.setAttribute('async', 'true');
        scr.type = "text/javascript";
        scr.src = host + "/j/roundtrip.js";
        ((document.getElementsByTagName('head') || [null])[0] ||
            document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
    };
    if (window.addEventListener) {window.addEventListener('load', _onload, false);}
    else {window.attachEvent('onload', _onload)}
}());            
</script>
</div></body>
</html>